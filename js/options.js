window.best_option.hideByNow=!1,window.best_option.cancelAjaxCart=!1,window.best_option.plugs=[],window.best_option.isDawn=!1;try{887==Number(Shopify.theme.theme_store_id)&&(window.best_option.isDawn=!0,window.best_option.hideByNow=!0,window.best_option.cancelAjaxCart=!0,window.best_option.ymq_option_branding.extra.hasOwnProperty("theme-variant-class")&&""!=window.best_option.ymq_option_branding.extra["theme-variant-class"]&&bestJq(window.best_option.ymq_option_branding.extra["theme-variant-class"]).length>0||(window.best_option.ymq_option_branding.extra["theme-variant-class"]=".product-form__input--dropdown,.js.product-form__input"),window.best_option.ymq_option_branding.extra.hasOwnProperty("trigger-option-dom")&&""!=window.best_option.ymq_option_branding.extra["trigger-option-dom"]||(window.best_option.ymq_option_branding.extra["trigger-option-dom"]=".js.product-form__input:eq(ymq1) label:eq(ymq2),.product-form__input--dropdown:eq(ymq1) .select__select option:eq(ymq2)"),window.best_option.ymq_option_branding.extra.hasOwnProperty("theme-variant-class-no")&&""!=window.best_option.ymq_option_branding.extra["theme-variant-class-no"]&&bestJq(window.best_option.ymq_option_branding.extra["theme-variant-class-no"]).length>0||(window.best_option.ymq_option_branding.extra["theme-variant-class-no"]='#product-form-installment input[name="id"]'))}catch(t){window.best_option.isDawn=!1,window.best_option.hideByNow=!0,window.best_option.cancelAjaxCart=!0}function ymqDoForEachData(t){Object.keys(t).forEach((function(e){var i=t[e];[9,10].includes(Number(i.type))&&-1==Number(bestJq.inArray("jedate",window.best_option.plugs))&&(window.best_option.plugs.push("jedate"),bestJq("<link>").attr({rel:"stylesheet",type:"text/css",href:`${window.best_option.baseUrl}css/jedate.css`}).appendTo("head")),[14].includes(Number(i.type))&&-1==Number(bestJq.inArray("colpick",window.best_option.plugs))&&(window.best_option.plugs.push("colpick"),bestJq("<link>").attr({rel:"stylesheet",type:"text/css",href:`${window.best_option.baseUrl}css/colpick.css`}).appendTo("head")),[12].includes(Number(i.type))&&i.hasOwnProperty("cropped_type")&&Number(i.cropped_type)>0&&-1==Number(bestJq.inArray("cropper",window.best_option.plugs))&&(window.best_option.plugs.push("ymqmodal"),window.best_option.plugs.push("cropper"),bestJq("<link>").attr({rel:"stylesheet",type:"text/css",href:`${window.best_option.baseUrl}css/cropper.css`}).appendTo("head")),0!=window.best_option.hideByNow&&0!=window.best_option.cancelAjaxCart||([12,6,7,8,16,21].includes(Number(i.type))&&(console.log(1,i),window.best_option.hideByNow=!0,window.best_option.cancelAjaxCart=!0),(i.hasOwnProperty("qty_input")&&1==Number(i.qty_input)||i.hasOwnProperty("is_get_to_cart")&&Number(0==i.is_get_to_cart))&&(console.log(1.1,i),window.best_option.hideByNow=!0,window.best_option.cancelAjaxCart=!0))}))}function ymqForEachData(){ymqDoForEachData(window.best_option.ymq_option_data),Object.keys(window.best_option.ymq_option_template).forEach((function(t){ymqDoForEachData(window.best_option.ymq_option_template[t])}))}function ymqForEachConditionData(){0==window.best_option.hideByNow&&(ymqDoForEachConditionData(window.best_option.ymq_option_condition),Object.keys(window.best_option.ymq_option_template_condition).forEach((function(t){ymqDoForEachConditionData(window.best_option.ymq_option_template_condition[t],t)})))}function ymqDoForEachConditionData(t,e=""){0==window.best_option.hideByNow&&Object.keys(t).forEach((function(t){if(""!=e)var i=window.best_option.ymq_option_template[e]["ymq"+t.split("_")[0]].type;else i=window.best_option.ymq_option_data["ymq"+t.split("_")[0]].type;[11,17].includes(Number(i))||(window.best_option.hideByNow=!0,console.log("condition disabled buy"+i,window.best_option.hideByNow))}))}if("product"==window.best_option.page)try{ymqForEachData(),ymqForEachConditionData()}catch(t){window.best_option.plugs=["jedate","colpick","cropper","ymqmodal"]}window.bestAdmin&&(window.best_option.plugs=["jedate","colpick","cropper","ymqmodal"],bestJq("<link>").attr({rel:"stylesheet",type:"text/css",href:`${window.best_option.baseUrl}css/colpick.css`}).appendTo("head"),bestJq("<link>").attr({rel:"stylesheet",type:"text/css",href:`${window.best_option.baseUrl}css/jedate.css`}).appendTo("head"),bestJq("<link>").attr({rel:"stylesheet",type:"text/css",href:`${window.best_option.baseUrl}css/cropper.css`}).appendTo("head")),console.log(window.best_option.plugs,window.best_option.hideByNow,window.best_option.cancelAjaxCart),best_define("Options",window.best_option.plugs,(function(){function justTools(t,e){this.elem=t,this.set=e}bestJq.fn.dropdown=function(t){t=bestJq.extend({variantChange:function(t){}},t);this.each((function(){var e=bestJq(this);if(e.hasClass("ymq-no-strong-drop-down"))return!1;var i={},n={},o={},a=e.hasClass("ymq-shopify-option");if(e.hasClass("ymq-inited")){var s=e.hasClass("ymq-multiple"),r=e.parents(".selectDropdown"),l=e.next().next();p(e.parent().attr("class"))}else{s=e.hasClass("ymq-multiple");var d=bestJq("<div />").addClass("ymq-dropdown selectDropdown "+(s?"multiple":""));e.wrap(d);l=bestJq("<span />").text(bestJq(this).attr("placeholder")).insertAfter(bestJq(this));var c=bestJq('<ul class="ymq-multiple-ul"></ul>');e.find("option").each((function(t){c.append(bestJq(`<li data-index="${t}" data-title="${bestJq(this).data("title")}" class="ymq-multiple-li ${bestJq(this).prop("disabled")?"disabled":""} ${bestJq(this).prop("selected")?"active":""}"></li>`).append(bestJq("<a />").html(bestJq(this).html())))})),c.insertAfter(bestJq(this));r=e.parents(".selectDropdown");p(),e.addClass("ymq-inited"),e.next().next().on("click touch",(function(t){var i=!1;return e.parent().hasClass("open")&&(i=!0),bestJq(".ymq-dropdown").removeClass("open"),i||e.parent().addClass("open"),t.preventDefault(),!1})),r.find("ul li a").on("click touch",(function(i){var n=bestJq(this);if(n.parent("li").hasClass("disabled"))return i.preventDefault(),!1;var o=bestJq(this).parents(".selectDropdown"),s=o.find(".ymq-dropdown"),r=e.hasClass("ymq-multiple"),l=bestJq(this).parent().hasClass("active"),d=bestJq(this).parent().data("index");return r?(n.parents(".ymq-multiple-li").toggleClass("active"),e.find("option").eq(n.parents(".ymq-multiple-li").data("index")).prop("selected",n.parents(".ymq-multiple-li").hasClass("active")),p()):(l&&!a?o.find("option").prop("selected",!1):(o.find("option").prop("selected",!1),o.find("option").eq(d).prop("selected",!0)),p()),s.trigger("change"),t.variantChange(e),r?(i.preventDefault(),!1):void 0}))}function p(t=""){i={},n={},o={},e.find("option").each((function(t){bestJq(this).prop("selected")&&!bestJq(this).prop("disabled")&&(i[t]={value:bestJq(this).val(),text:bestJq(this).html()}),bestJq(this).prop("disabled")&&(n[t]={value:bestJq(this).val(),text:bestJq(this).html()}),"none"==bestJq(this).css("display")&&(o[t]={value:bestJq(this).val(),text:bestJq(this).html()})}));var a="";r.find(".ymq-multiple-li").removeClass("active").removeClass("disabled").show(),Object.keys(i).forEach((function(t){var e=i[t];s?a+=`<span class="ymq-multiple-item-box"><span class="ymq-multiple-item"><span class="ymq-multiple-text">${e.text}</span> <span data-index="${t}" class="ymq-multiple-remove"></span></span></span></span>`:a=e.text,r.find(".ymq-multiple-li").eq(t).addClass("active")})),Object.keys(n).forEach((function(t){n[t];r.find(".ymq-multiple-li").eq(t).addClass("disabled")})),Object.keys(o).forEach((function(t){o[t];r.find(".ymq-multiple-li").eq(t).hide()})),""==a&&(a=e.attr("placeholder")),l.html(a),r.find(".ymq-multiple-remove").on("click touch",(function(t){return e.find("option").eq(bestJq(this).data("index")).prop("selected",!1),e.trigger("change"),p(),t.preventDefault(),!1}))}}))},bestJq(document).on("click touch",(function(t){bestJq(".ymq-dropdown").removeClass("open")})),justTools.prototype={addAnimation:function(){switch(this.set.animation){case"none":break;case"fadeIn":this.obj.addClass("animated fadeIn");break;case"flipIn":switch(this.set.gravity){case"top":this.obj.addClass("animated flipInTop");break;case"bottom":this.obj.addClass("animated flipInBottom");break;case"left":this.obj.addClass("animated flipInLeft");break;case"right":this.obj.addClass("animated flipInRight")}break;case"moveInLeft":this.obj.addClass("animated moveLeft");break;case"moveInTop":this.obj.addClass("animated moveTop");break;case"moveInBottom":this.obj.addClass("animated moveBottom");break;case"moveInRight":this.obj.addClass("animated moveRight")}},close:function(){this.obj.remove(),this.elem.removeAttr("just-open")},setPosition:function(){if(""!=this.set.contents){var t={},e={x:this.elem.offset().left,y:this.elem.offset().top},i={w:this.elem.outerWidth(),h:this.elem.outerHeight()},n=e.x+i.w/2+this.obj.outerWidth()/2,o=e.x+i.w/2-this.obj.outerWidth()/2;switch(this.set.gravity){case"top":n>bestJq(window).width()?(t={x:e.x+i.w-this.obj.outerWidth(),y:e.y-this.obj.outerHeight()-this.set.distance},this.obj.find(".just-"+this.set.gravity).css("left",this.obj.outerWidth()-i.w/2+"px")):o<0?(t={x:e.x,y:e.y-this.obj.outerHeight()-this.set.distance},this.obj.find(".just-"+this.set.gravity).css("left",i.w/2+"px")):t={x:e.x-(this.obj.outerWidth()-i.w)/2,y:e.y-this.obj.outerHeight()-this.set.distance};break;case"bottom":n>bestJq(window).width()?(t={x:e.x+i.w-this.obj.outerWidth(),y:e.y+i.h+this.set.distance},this.obj.find(".just-"+this.set.gravity).css("left",this.obj.outerWidth()-i.w/2+"px")):o<0?(t={x:e.x,y:e.y+i.h+this.set.distance},this.obj.find(".just-"+this.set.gravity).css("left",i.w/2+"px")):t={x:e.x-(this.obj.outerWidth()-i.w)/2,y:e.y+i.h+this.set.distance};break;case"left":t={x:e.x-this.obj.outerWidth()-this.set.distance,y:e.y-(this.obj.outerHeight()-i.h)/2};break;case"right":t={x:e.x+i.w+this.set.distance,y:e.y-(this.obj.outerHeight()-i.h)/2}}this.obj.css({left:t.x+"px",top:t.y+"px"})}},setEvent:function(){var t=this;"click"!=t.set.events&&"onclick"!=t.set.events||t.obj.one("click",(function(t){})),"mouseover"!=t.set.events&&"onmouseover"!=t.set.events&&"mouseenter"!=t.set.events||this.elem.one("mouseout, mouseleave",(function(){t.close()})).one("click",(function(t){}))},setConfirmEvents:function(){var t=this,e=this.obj.find(".just-yes"),i=this.obj.find(".just-no");e.click((function(){1==t.set.onYes(t)&&t.close()})),i.click((function(){t.close(),t.set.onNo(t)}))},addConfirm:function(){this.obj.append("<div class='just-confirm'><button type='button' class='just-yes'>"+this.set.yes+"</button><button type='button' class='just-no'>"+this.set.no+"</button></div>"),this.setConfirmEvents()},setContent:function(){""!=this.set.contents&&(this.obj=bestJq("<div class='just-tooltip "+this.set.theme+"'style='width:"+this.set.width+"'><div class='just-con'>"+this.set.contents+"</div><span class='just-"+this.set.gravity+"'></span></div>"),1==this.set.confirm&&this.addConfirm(),bestJq("body").append(this.obj),this.setEvent(),this.addAnimation())},getEvent:function(){if(window.event)return window.event;for(var t=this.getEvent.caller;null!=t;){var e=t.arguments[0];if(e&&(console.log(e.constructor),e.constructor==Event||e.constructor==MouseEvent||"object"==typeof e&&e.preventDefault&&e.stopPropagation))return e;t=t.caller}return null},destroy:function(){bestJq("div[just-open]").removeAttr("just-open"),bestJq(".just-tooltip").remove()},init:function(){var t=this,e=t.getEvent();t.set.events=e.type,e.preventDefault(),e.stopPropagation(),$document=bestJq(document),"click"!=t.set.events&&"onclick"!=t.set.events||(t.destroy(),$document.one("click",(function(e){t.destroy()}))),t.setContent(),t.setPosition(),$document.one("resize",(function(){t.setPosition()}))}},bestJq.fn.justToolsTip=function(t){if(!this.attr("just-open")){this.attr("just-open","show");var e={id:(new Date).getTime(),height:"auto",width:"auto",contents:"",gravity:"top",theme:"",distance:10,animation:"none",confirm:!1,yes:"确定",no:"取消",onYes:function(){},onNo:function(){}};this.each((function(i){t=bestJq.extend(e,t),new justTools(bestJq(this),t).init()}))}},bestJq(document).on("click","[data-ymq-id]",(function(t){t.preventDefault();var e=bestJq(this).attr("data-ymq-id");bestJq("#"+e).ymq(bestJq(this).data())})),bestJq.fn.ymq=function(t){t=bestJq.extend({},{animation:"fade",animationspeed:300,closeonbackgroundclick:!0,dismissmodalclass:"close-ymq-modal"},t);return this.each((function(){var e=bestJq(this),i=parseInt(e.css("top")),n=e.height()+i,o=!1,a=bestJq(".ymq-modal-bg");0==a.length&&(a=bestJq('<div class="ymq-modal-bg" />').insertAfter(e)),e.bind("ymq:open",(function(){if(a.unbind("click.modalEvent"),bestJq("."+t.dismissmodalclass).unbind("click.modalEvent"),!o){if(r(),"fadeAndPop"==t.animation&&(e.css({top:bestJq(document).scrollTop()-n,opacity:0,visibility:"visible"}),a.fadeIn(t.animationspeed/2),e.delay(t.animationspeed/2).animate({top:bestJq(document).scrollTop()+i+"px",opacity:1},t.animationspeed,s())),"fade"==t.animation){if(e.height()+100>bestJq(window).height())var l=50;else if(e.height()>300)l=(bestJq(window).height()-e.height())/2;else l=150;e.css({opacity:0,visibility:"visible",top:l,width:e.data("width"),"margin-left":-Number(e.data("width"))/2}),a.fadeIn(t.animationspeed/2),e.delay(t.animationspeed/2).animate({opacity:1},t.animationspeed,s())}"none"==t.animation&&(e.css({visibility:"visible",top:bestJq(document).scrollTop()+i}),a.css({display:"block"}),s())}e.unbind("ymq:open")})),e.bind("ymq:close",(function(){o||(r(),"fadeAndPop"==t.animation&&(a.delay(t.animationspeed).fadeOut(t.animationspeed),e.animate({top:bestJq(document).scrollTop()-n+"px",opacity:0},t.animationspeed/2,(function(){e.css({top:i,opacity:1,visibility:"hidden"}),s()}))),"fade"==t.animation&&(a.delay(t.animationspeed).fadeOut(t.animationspeed),e.animate({opacity:0},t.animationspeed,(function(){e.css({opacity:1,visibility:"hidden",top:i}),s()}))),"none"==t.animation&&(e.css({visibility:"hidden",top:i}),a.css({display:"none"}))),e.unbind("ymq:close")})),e.trigger("ymq:open");bestJq("."+t.dismissmodalclass).bind("click.modalEvent",(function(){e.trigger("ymq:close")}));function s(){o=!1}function r(){o=!0}t.closeonbackgroundclick&&(a.css({cursor:"pointer"}),a.bind("click.modalEvent",(function(){e.trigger("ymq:close")}))),bestJq("body").keyup((function(t){27===t.which&&e.trigger("ymq:close")}))}))};let Config=class Config{constructor(){var t=this;t.instance=null,t.util=Util.getInstance(),t.init()}init(){var t=this;String.prototype.endWith=function(t){var e=this.length-t.length;return e>=0&&this.lastIndexOf(t)==e},t.Shopify={},t.money_format="",t.form_box="",t.onetimetag="",t.cart_form='form[action*="/cart"]',t.discount_box="#ymq_discount_box",t.styleDomId="#ymq-jsstyle",t.add_to_cart="ymq-add-to-cart-button",t.buy_id_now="ymq-buy-it-now-button",t.quantity_box="ymq-quantity-box",t.quantity_input="ymq-quantity-input",t.quantity_add="ymq-quantity-add",t.quantity_cut="ymq-quantity-cut",t.quantity_change="ymq-quantity-change",t.min_quantity=0,t.max_quantity=9999999,t.qty_split=" * ",t.ymq_extra_0={},t.hasError=!1,t.multipleTypeArray=[6,7,8],t.emailRe=/^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/,t.numberRe=/^[0-9]+\.?[0-9]*/,t.ymq_variant_id="ymq-variant-id",t.ymq_option_title="ymq-option-title",t.basImgUrl="http://ymq-shopify.oss-us-east-1.aliyuncs.com/",t.img_suffix="?x-oss-process=image/resize,w_100/quality,q_80",t.please="please",t.box_prefix="option-box-",t.attrib_prefix="ymq-attrib-",t.attrib_item_prefix="ymq-attrib-item-",t.optionHtml="",t.selectedYmqOption={},t.product="",t.ymq_shopify_options="",t.ymq_option_data="",t.ymq_option_condition="",t.ymq_option_template="",t.ymq_option_template_condition="",t.ymq_option_settings="",t.ymq_option_branding="",t.ymq_has_only_default_variant="",t.variantData="",t.tem_prefix="tem",t.ymq_enLang={name:"en",month:["01","02","03","04","05","06","07","08","09","10","11","12"],weeks:["SU","MO","TU","WE","TH","FR","SA"],times:["Hour","Minute","Second"],timetxt:["Time","Start Time","End Time"],backtxt:"Back",clear:"Clear",today:"Now",yes:"Confirm",close:"Close"},t.ymq_jedateblue={bgcolor:"#275efe",color:"#ffffff",pnColor:"#bff3ff"},t.ymq_jedategreen={bgcolor:"#00A680",pnColor:"#00DDAA"},t.ymq_jedatered={bgcolor:"#D91600",pnColor:"#FF6653"},t.initFormat()}initFormat(){var t=this;return t.Shopify=Shopify,t.NumberFormat=new Intl.NumberFormat("en-US",{style:"currency",currency:t.Shopify.currency.active}),t.initMinMax(),t}initMinMax(){var t=this;if(window.best_option.hasOwnProperty("ymq_extra_0")&&(t.ymq_extra_0=window.best_option.ymq_extra_0,"product"==window.best_option.page&&window.best_option.product.hasOwnProperty("id")&&t.ymq_extra_0.hasOwnProperty(window.best_option.product.id.toString()))){var e=t.ymq_extra_0[window.best_option.product.id.toString()];""==e.min?t.min_quantity=0:t.min_quantity=Number(e.min),""==e.max?t.max_quantity=999999:t.max_quantity=Number(e.max)}}getMinMaxByProduct(t,e){if(t&&this.ymq_extra_0.hasOwnProperty(t.toString())){var i=this.ymq_extra_0[t.toString()];if(""!=i.max&&e>i.max)return i.max;if(""!=i.min&&e<i.min)return i.min}return null}doFormat(t,e=0,i=!1){var n=this,o="";return o=1==Number(e)?n.NumberFormat.format(t*n.Shopify.currency.rate)+n.onetimetag:n.NumberFormat.format(t*n.Shopify.currency.rate),1==i&&(o=`<span class="ymq-price-span">${o}</span>`),o}doFormatWithoutRate(t,e=!1){var i=this.NumberFormat.format(t);return 1==e&&(i=`<span class="ymq-price-span">${i}</span>`),i}getPriceWithRate(t){return t*this.Shopify.currency.rate}getSelectButtonPrice(t,e){var i=this,n=i.util.getValue(i.ymq_option_branding.extra,"price-value","3,7,15,16");return((n=n.split(",")).indexOf(e.toString())>-1||n.indexOf(Number(e))>-1)&&t>0?` <span class="ymq-price-in-option-value"> + ${i.doFormat(t,0,!0)}</span>`:""}ymqHook(key){var that=this,hookCode=that.util.getValue(that.ymq_option_branding.extra,key,"");if(""!=hookCode)try{eval(hookCode)}catch(t){console.log(t)}}static getInstance(t,e){return this.instance||(this.instance=new Config),this.instance[t]=e,this.instance}},Html=class t{constructor(t){var e=this;e.instance=null,e.initJson=t,e.config=Config.getInstance("htmlInstance",e),e.init()}initMemberVariables(){var t=this;t.optionHtml="",t.selectedYmqOption={},t.isShopify=!1,t.json={},t.validate=[],t.tool_text="",t.alert_text="",t.help_text="",t.variant_id=0,t.conditionJson={},t.needAddLabel=[],t.config.hasQuantity=!1,t.config.quantity_is_fix_type=!1,t.config.quantity_has_value=!0,t.config.max_num=999999,t.config.qty_input_text=t.config.util.getValue(t.config.ymq_option_branding.lan,"qty-input-text","Qty: "),t.config.qty_inline=t.config.util.getValue(t.config.ymq_option_branding.extra,"qty-inline","3,4,5,6,7,8,15,16").split(","),t.config.multiple_select_qty_with_name=0!=Number(t.config.util.getValue(t.config.ymq_option_branding.extra,"qty-with-name",0))}init(){this.initMemberVariables()}buildtHtml(){var t=this;return Object.keys(t.json).forEach((function(e){switch(t.beforeCreat(e),t.selectedYmqOption.type.toString()){case"1":t.creatField().doCreatOptionHtml();break;case"2":t.creatArea().doCreatOptionHtml();break;case"3":t.creatSelect().doCreatOptionHtml().initDropdown();break;case"4":t.creatRadio().doCreatOptionHtml();break;case"15":t.creatRadioButton().doCreatOptionHtml();break;case"5":t.creatCanvas().doCreatOptionHtml();break;case"6":t.creatCheckbox().doCreatOptionHtml();break;case"16":t.creatCheckboxButton().doCreatOptionHtml();break;case"7":t.creatSelect("multiple").doCreatOptionHtml().initDropdown();break;case"8":t.creatCanvas("checkbox").doCreatOptionHtml();break;case"9":case"10":t.creatDate().doCreatOptionHtml().initData();break;case"11":t.creatCustomeText().doCreatOptionHtml();break;case"12":t.creatFile().doCreatOptionHtml().initFile();break;case"13":t.creatSwitch().doCreatOptionHtml();break;case"14":t.creatColorPick().doCreatOptionHtml().initColpick();break;case"17":t.creatLayout().doCreatOptionHtml();break;case"18":t.creatFixedQuantity().doCreatOptionHtml();break;case"19":t.creatFixedQuantity(19).doCreatOptionHtml();break;case"100":t.setJson(t.config.ymq_option_template[t.config.tem_prefix+t.selectedYmqOption.id],t.config.ymq_option_template_condition[t.config.tem_prefix+t.selectedYmqOption.id]).buildtHtml().setJson(t.config.ymq_option_data,t.config.ymq_option_condition)}})),t}validateIsHasLabel(){return this.selectedYmqOption.label,this}beforeCreat(t){var e=this;if(e.selectedYmqOption=e.json[t],this.selectedYmqOption.hasOwnProperty("isShopify")?e.isShopify=!0:e.isShopify=!1,!e.isShopify){var i=bestJq(`[name="${e.creatName(bestJq(this).data("label"))}"]`);if(i.length>=1&&-1==bestJq.inArray(e.selectedYmqOption.label,e.needAddLabel)){e.needAddLabel.push(e.selectedYmqOption.label);var n=i.eq(0).parents(".ymq-options-box"),o=e.creatName(n.data("label")+n.data("id"));n.attr("data-name",o),i.each((function(){i.prop("name",o)}))}}return e.selectedQtyInput=1==Number(e.config.util.getValue(e.selectedYmqOption,"qty_input",0)),e.isShopify&&(e.selectedQtyInput=!1),e.selectedQtyInputFlexClass="",-1==bestJq.inArray(e.selectedYmqOption.type.toString(),e.config.qty_inline)&&-1==bestJq.inArray(Number(e.selectedYmqOption.type),e.config.qty_inline)||(e.selectedQtyInputFlexClass="ymq-qty-input-item-flex"),e.validateIsHasLabel(),e.buildValidate(),e.buildTooltip(),e.buildAlert(),e.buildHelp(),e}buildValidate(){var t=this;if(t.validate=[],1==Number(t.selectedYmqOption.required)&&t.validate.push("required"),(1==Number(t.selectedYmqOption.type)&&1==Number(t.selectedYmqOption.field_type)||2==Number(t.selectedYmqOption.type))&&(t.selectedYmqOption.min_char>0&&t.validate.push("minchar:"+t.selectedYmqOption.min_char),t.selectedYmqOption.max_char>0&&t.validate.push("maxchar:"+t.selectedYmqOption.max_char)),t.selectedYmqOption.hasOwnProperty("min_s")&&t.selectedYmqOption.min_s>0&&t.validate.push("min_s:"+t.selectedYmqOption.min_s),t.selectedYmqOption.hasOwnProperty("max_s")&&t.selectedYmqOption.max_s>0&&t.validate.push("max_s:"+t.selectedYmqOption.max_s),1==Number(t.selectedYmqOption.type))switch(t.selectedYmqOption.field_type){case"2":t.validate.push("email");break;case"3":t.validate.push("phone");break;case"4":t.validate.push("number"),t.selectedYmqOption.min>0&&t.validate.push("numbermin:"+t.selectedYmqOption.min),t.selectedYmqOption.max>0&&t.validate.push("numbermax:"+t.selectedYmqOption.max);break;case"5":t.selectedYmqOption.min>0&&t.validate.push("numbermin:"+t.selectedYmqOption.min),t.selectedYmqOption.max>0&&t.validate.push("numbermax:"+t.selectedYmqOption.max),t.validate.push("integer")}return t.validate.length>0?t.validate='data-validate="'+t.validate.join("|")+'"':t.validate="",t}buildTooltip(){var t=this;t.tool_text="",""!=t.selectedYmqOption.tooltip&&(t.tool_text=`<span class="ymq_tools ymq_tool_span" data-title="${t.selectedYmqOption.tooltip}"></span>`)}buildAlert(){var t=this;if(t.alert_text="",t.selectedYmqOption.hasOwnProperty("a_t1")||(t.selectedYmqOption.a_t1="",t.selectedYmqOption.a_t2="",t.selectedYmqOption.alert_text=""),t.selectedYmqOption.hasOwnProperty("alert_text")&&""!=t.selectedYmqOption.alert_text){var e="";""==!t.selectedYmqOption.a_t2&&(e=`<img class="ymq_img_alert" src="${t.selectedYmqOption.a_t2}">`),t.alert_text=`\n                    <div class="ymq_alert_box2" data-ymq-id="ymqdialogbox${t.selectedYmqOption.id}">\n                        ${e+t.selectedYmqOption.a_t1}\n                    </div>`,bestJq("body").append(`\n                    <div id="ymqdialogbox${t.selectedYmqOption.id}" data-width="${t.selectedYmqOption.a_width}" class="ymq-modal">\n                      <span class="close-ymq-modal">\n                          &#215;\n                      </span>\n                      <div class="ymq-modal-content">\n                          ${t.selectedYmqOption.alert_text}\n                      </div>\n                    </div>\n                `)}}buildHelp(){var t=this;t.help_text="",""!=t.selectedYmqOption.help&&(t.help_text=`<div class="ymq_help_box">${t.selectedYmqOption.help}</div>`)}doCreatOptionHtml(){var t=this,e="",i="",n="",o="",a="",s=Number(t.config.util.getValue(this.selectedYmqOption,"hide_title",0));if(null==t.selectedYmqOption)return t;if([18,19].includes(Number(t.selectedYmqOption.type))&&window.best_option.ymq_option_branding.extra.plan<3)return t;1==Number(t.selectedYmqOption.required)&&(a="required");var r=!0;if([18,19].includes(Number(t.selectedYmqOption.type))&&bestJq.isEmptyObject(t.selectedYmqOption.options)&&(r=!1),11!=t.selectedYmqOption.type&&17!=t.selectedYmqOption.type&&r){e=`<div ${1==s?'style="display:none;"':""} class="${t.config.ymq_option_title}"><span class="ymq_lable ${a}">${t.selectedYmqOption.label}</span>${t.alert_text}${t.tool_text}<span class="ymq_option_text_span"></span><span class="ymq_option_price_span"></span></div>`;1==Number(t.selectedYmqOption.tooltip_position)?i=t.help_text:2==Number(t.selectedYmqOption.tooltip_position)?n=t.help_text:o=t.help_text}return this.optionHtml=`\n                <div \n                    class="ymq-options-box ymq-options-box-${this.selectedYmqOption.type} ${t.selectedQtyInput?"ymq-options-qty-box":""} ${this.isShopify?"ymq-shopify-option-box":""} ${t.config.util.getValue(t.selectedYmqOption,"class","")}" \n                    id="${t.config.box_prefix}${this.selectedYmqOption.id}"\n                    data-type="${this.selectedYmqOption.type}"\n                    data-id="-${t.selectedYmqOption.id.toString().split("tem").join("-")}"\n                    data-ymq-add-to-cart="${t.config.util.getValue(t.selectedYmqOption,"is_get_to_cart",1)}"\n                    data-name="${this.creatName()}"\n                    data-label="${t.config.util.htmlSpecialChars(this.selectedYmqOption.label)}"\n                    data-onetime="${this.getOneTime()}"\n                    data-class="${t.config.attrib_prefix}${t.selectedYmqOption.id}"\n                    ${t.validate}\n                >\n                    ${n}\n                    ${e}\n                    ${o}\n                    ${t.optionHtml}\n                    <div class="ymq-error-box"></div>\n                    ${i}\n                </div>\n            `,""!=t.optionHtml&&bestJq("#ymq-box").append(t.optionHtml),t}getOneTime(){return this.config.util.getValue(this.selectedYmqOption,"onetime","0")}creatColorPick(){var t=this;return t.optionHtml=`\n                <div class="ymq-input-color-box">\n                    <input readonly class="ymq-input-text ymq-input-color ${t.config.attrib_prefix}${t.selectedYmqOption.id}" type="text" id="${t.config.attrib_prefix}${t.selectedYmqOption.id}" data-id="${t.selectedYmqOption.id}" data-one_time="${t.selectedYmqOption.one_time}" data-price="0" value="" name="${t.creatName()}">\n                    <div class="ymq-input-color-button"></div>\n                </div>\n            `,t}creatAccept(){var t="";return 1==this.selectedYmqOption.file_type&&(t='accept="image/*"'),t}creatFileMultiple(){var t=this,e='multiple="multiple"';return(1==t.selectedYmqOption.file_num||0!=t.config.util.getValue(t.selectedYmqOption,"cropped_type","0"))&&(e=""),e}creatFile(){var t=this;return t.optionHtml=`\n                <div class="ymq_upload_new_box">\n                    <div class="ymq_upload_img_view spotlight-group">\n                        <label data-show="" id="ymq_upload${t.selectedYmqOption.id}" class="ymq_upload_new" style="z-index: 1;">\n                            <input ${t.creatAccept()} ${this.creatFileMultiple()} type="file" data-file-num="${t.selectedYmqOption.file_num}" data-rectangle-ratio="${t.config.util.getValue(t.selectedYmqOption,"rectangle_ratio","")}" data-file-type="${t.selectedYmqOption.file_type}" data-cropper="${t.config.util.getValue(t.selectedYmqOption,"cropped_type","0")}" style="display: none;" class="${t.config.attrib_prefix}${t.selectedYmqOption.id} ymq-options-file-input" name="${t.creatName()}" data-price="0" id="${t.config.attrib_prefix}${t.selectedYmqOption.id}">\n                            <svg class="icon" style="width: 24px; height: 24px;vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2737"><path d="M662.63 545.37l-128-128a32 32 0 0 0-45.25 0l-128 128a32 32 0 1 0 45.25 45.25L480 517.25V872a32 32 0 0 0 64 0V517.25l73.37 73.37a32 32 0 1 0 45.25-45.25zM752 760H640a32 32 0 0 1 0-64h112c79.4 0 144-64.6 144-144a144 144 0 0 0-132.45-143.54 32 32 0 0 1-29.24-28C720.6 268.46 625 184 512 184s-208.6 84.46-222.31 196.45a32 32 0 0 1-29.24 28A144 144 0 0 0 128 552c0 79.4 64.6 144 144 144h112a32 32 0 0 1 0 64H272c-114.69 0-208-93.31-208-208a208.08 208.08 0 0 1 166.23-203.79C258 216.5 375 120 512 120s254 96.5 281.77 228.21A208.08 208.08 0 0 1 960 552c0 114.69-93.31 208-208 208z" p-id="2738"></path></svg>\n                        </label>\n                    </div>\n                </div>\n                <div class="ymq_upload_box ymq_upload_file_view">\n\n                </div>\n            `,t}creatSwitch(){var t=this;return t.optionHtml=`\n                \n                <div>\n                    <input class="ymq-checkbox-radio ymq-Switch ${t.config.attrib_prefix}${t.selectedYmqOption.id}" type="checkbox" id="${t.config.attrib_prefix}${t.selectedYmqOption.id}" data-id="${t.selectedYmqOption.id}" data-one_time="${t.selectedYmqOption.one_time}" data-price="0" value="${t.selectedYmqOption.switch_text}" name="${t.creatName()}" id="tool-${t.selectedYmqOption.id}" ${1==Number(t.selectedYmqOption.default)?"checked":""}>\n                    <label for="${t.config.attrib_prefix}${t.selectedYmqOption.id}">${t.selectedYmqOption.switch_text}</label>\n                </div>\n            `,t}creatField(){var t=this,e="";""!=t.selectedYmqOption.default_text&&null!=t.selectedYmqOption.default_text&&(e=`value="${t.selectedYmqOption.default_text}"`);var i="";return""!=t.selectedYmqOption.placeholder&&null!=t.selectedYmqOption.placeholder&&(i=`placeholder="${t.selectedYmqOption.placeholder}"`),t.optionHtml=`\n                <input ${e} ${i} class="ymq-input-text ${t.config.attrib_prefix}${t.selectedYmqOption.id}" type="text" name="${t.creatName()}" data-price="0" id="${t.config.attrib_prefix}${t.selectedYmqOption.id}">\n            `,t}creatCustomeText(){var t=this;return t.optionHtml=`\n                <div class="ymq_custome_text">${t.selectedYmqOption.html}</div>\n            `,t}creatLayout(){var t=this;t.selectedYmqOption.hasOwnProperty("a_t1")||(t.selectedYmqOption.a_t1="",t.selectedYmqOption.a_t2="",t.selectedYmqOption.a_width="700",t.selectedYmqOption.alert_text="");var e="";return""==!t.selectedYmqOption.a_t2&&(e=`<img class="ymq_img_alert" src="${t.selectedYmqOption.a_t2}">`),""!=t.selectedYmqOption.alert_text?(t.optionHtml=`\n                    <div class="ymq_alert_box" data-ymq-id="ymqdialogbox${t.selectedYmqOption.id}">\n                        ${e+t.selectedYmqOption.a_t1}\n                    </div>\n                `,bestJq("body").append(`\n                    <div id="ymqdialogbox${t.selectedYmqOption.id}" data-width="${t.selectedYmqOption.a_width}" class="ymq-modal">\n                      <span class="close-ymq-modal">\n                          &#215;\n                      </span>\n                      <div class="ymq-modal-content">\n                          ${t.selectedYmqOption.alert_text}\n                      </div>\n                    </div>\n                `)):t.optionHtml="",t}creatArea(){var t=this,e="";""!=t.selectedYmqOption.default_text&&null!=t.selectedYmqOption.default_text&&(e=t.selectedYmqOption.default_text);var i="";return""!=t.selectedYmqOption.placeholder&&null!=t.selectedYmqOption.placeholder&&(i=`placeholder="${t.selectedYmqOption.placeholder}"`),t.optionHtml=`\n                <textarea ${i} class="ymq-input-text ${t.config.attrib_prefix}${t.selectedYmqOption.id}" data-price="0" name="${t.creatName()}" id="${t.config.attrib_prefix}${t.selectedYmqOption.id}">${e}</textarea>\n            `,t}creatSelect(t=""){var e=this,i=e.selectedYmqOption.options,n=e.conditionJson,o=Number(e.config.util.getValue(e.selectedYmqOption,"strong-dorp-down",2)),a=Number(e.config.util.getValue(e.config.ymq_option_branding.extra,"strong-dorp-down",1));2==Number(o)&&(o=a);var s="",r="",l="ymq-no-strong-drop-down";1==o&&(s='style="display: none;"',r="multiple",l=""),"multiple"==t&&(r="multiple",e.selectedQtyInputFlexClass="");var d='<div class="ymq-multiple-select-qty-wrappe">',c="";for(var p in e.optionHtml="",e.selectedQtyInput&&(e.optionHtml+=`<div class="ymq-qty-input-item ${e.selectedQtyInputFlexClass} ymq-qty-input-item-${e.selectedYmqOption.id}" id="ymq-qty-input-item-${e.selectedYmqOption.id}" data-id="${e.selectedYmqOption.id}">`),e.optionHtml+=`\n                    <select ${s} ${r} name="${e.creatName()}"  id="${e.config.attrib_prefix}${e.selectedYmqOption.id}" class="${l} ymq-dropdown ${e.config.attrib_prefix}${e.selectedYmqOption.id} ${"multiple"==t?"ymq-multiple":""} ${e.isShopify?"ymq-shopify-option":""}" placeholder="${e.config.ymq_option_branding.lan.please_choose}">\n            `,1==o||e.isShopify||(e.optionHtml+=`\n                    <option class="ymq-options-default" value="">${e.config.ymq_option_branding.lan.please_choose}</option>\n                `),i){var m=i[p],u="",y="",f="";0==Number(m.hasstock)?(u=`data-title="${e.config.ymq_option_branding.lan.sold_out}" disabled`,y="ymq_disabled_class ymq_sold_out",f="disabled",m.default=0):n.hasOwnProperty(m.id)&&(u=`data-title="${n[m.id].disabled_text}"`,y="ymq_disabled_class ymq_condition_disabled"),e.optionHtml+=`\n                    <option ${f} ${u} ${1==Number(m.default)?"selected":""} class="${e.config.attrib_item_prefix}${m.id} ${y}" id="${e.config.attrib_prefix}${m.id}" data-id="${m.id}" data-one_time="${m.one_time}" data-price="0" value="${m.value}">${m.value}${e.config.getSelectButtonPrice(0,e.selectedYmqOption.type.toString())}</option>\n                `,c+=`ymq-qty-input-${m.id} `,"multiple"==t&&(d+=`<div class="ymq-qty-input-wrappe-div ymq-qty-input-wrappe-div-${e.selectedYmqOption.id}" id="ymq-qty-input-wrappe-div-${m.id}" data-id="${m.id}">${e.config.qty_input_text}${e.config.multiple_select_qty_with_name?"("+m.value+")":""}<input value="1" min="1" class="ymq-qty-input ymq-qty-input-${e.selectedYmqOption.id} ymq-qty-input-${m.id}" id="ymq-qty-input-${m.id}" data-id="${m.id}" type="number"></div>`)}return e.optionHtml+="\n                    </select>\n            ",e.selectedQtyInput&&(e.optionHtml+="multiple"==t?`${d}</div></div>`:`<div class="ymq-qty-input-wrappe-div ymq-qty-input-wrappe-div-${e.selectedYmqOption.id}" id="ymq-qty-input-wrappe-div-${m.id}" data-id="${m.id}">${e.config.qty_input_text}<input value="1" min="1" class="ymq-qty-input ymq-qty-input-${e.selectedYmqOption.id} ${c}" id="ymq-qty-input-${e.selectedYmqOption.id} ${c}" data-id="${e.selectedYmqOption.id}" type="number"></div></div>`),e}creatCheckboxButton(){return this.creatrcbtn("checkbox"),this}creatRadioButton(){return this.creatrcbtn(),this}creatrcbtn(t="radio"){var e=this,i=this.selectedYmqOption.options,n=e.conditionJson;for(var o in this.optionHtml="\n                    \n                    <div>\n                ",i){var a=i[o],s="",r="",l="";0==Number(a.hasstock)?(s=`data-title="${e.config.ymq_option_branding.lan.sold_out}"`,r="ymq_disabled_class ymq_sold_out",l="disabled"):n.hasOwnProperty(a.id)&&(s=`data-title="${n[a.id].disabled_text}"`,r="ymq_disabled_class ymq_condition_disabled"),e.selectedQtyInput&&(e.optionHtml+=`<div class="ymq-qty-input-item ${e.selectedQtyInputFlexClass} ymq-qty-input-item-${e.selectedYmqOption.id} ${e.config.attrib_item_prefix}${a.id}" id="ymq-qty-input-item-${a.id}" data-id="${a.id}">`),this.optionHtml+=`\n                    <input ${l} ${s} class="ymq-options-button-input ${r} ${e.isShopify?"ymq-shopify-option":""} ${e.config.attrib_prefix}${e.selectedYmqOption.id}" id="${e.config.attrib_prefix}${a.id}" data-id="${a.id}" data-one_time="${a.one_time}" data-price="0" value="${a.value}" type="${t}" name="${e.creatName()}" id="tool-${a.id}" ${1==Number(a.default)?"checked":""}>\n                    <label ${s} class="ymq-options-button-label ${e.config.attrib_item_prefix}${a.id}" for="${e.config.attrib_prefix}${a.id}">\n                        ${a.value}${e.config.getSelectButtonPrice(0,e.selectedYmqOption.type.toString())}\n                    </label>\n                `,e.selectedQtyInput&&(e.optionHtml+=`<div class="ymq-qty-input-wrappe-div ymq-qty-input-wrappe-div-${e.selectedYmqOption.id}" id="ymq-qty-input-wrappe-div-${a.id}" data-id="${a.id}">${e.config.qty_input_text}<input value="1" min="1" class="ymq-qty-input ymq-qty-input-${e.selectedYmqOption.id} ymq-qty-input-${a.id}" id="ymq-qty-input-${a.id}" data-id="${a.id}" type="number"></div></div>`)}return this.optionHtml+="\n                    </div>\n            ",e}creatFixedQuantity(t=18){var e=this,i=this.selectedYmqOption.options,n=(e.conditionJson,1),o=e.config.util.getValue(e.config.ymq_option_branding.lan,"q-buy","Buy:"),a=e.config.util.getValue(e.config.ymq_option_branding.lan,"q-save","Save");if(1==e.config.hasQuantity)return this.optionHtml="",e.selectedYmqOption=null,e;if(e.config.hasQuantity=!0,e.config.quantity={},e.config.quantity.defalut_quantity=e.config.min_quantity,e.config.quantity.type=t,e.config.quantity.options={},18==Number(t)&&(e.config.quantity_is_fix_type=!0),bestJq.isEmptyObject(i))this.optionHtml=`<input value="222"  type="hidden" name="${e.creatName()}" >`,e.config.quantity_has_value=!1;else{for(var s in this.optionHtml="\n                        <div>\n                    ",i){var r=i[s];e.config.quantity.options[Number(r.quantity)]={quantity:Number(r.quantity),discount:Number(r.discount),discount_type:Number(r.discount_type)}}if(e.config.quantity.options[0]={quantity:0,discount:0,discount_type:2},19==t){var l="",d=0;for(var s in e.config.quantity.options){e.config.quantity.options[s];""!=l&&(e.config.quantity.options[l].quantity_max=s-1),1==d&&e.config.min_quantity>s&&(e.config.min_quantity=Number(s)),e.config.max_quantity<s&&(e.config.max_quantity=Number(s)),d++,e.config.quantity.options[s].quantity_max=e.config.max_num,l=s}}console.log(e.config.quantity.options,e.config.min_quantity,e.config.max_quantity),Object.keys(i).forEach((function(s,r){var l=i[s],d="";d=1==Number(l.discount_type)?`${l.discount}%`:`-${e.config.doFormat(l.discount)}`;var c="";if(c=""==l.discount||0==Number(l.discount)?`<span style="display:none !important;" class="ymq-quantity-discount-price" data-quantity="${l.quantity}" data-discount="${l.discount}" data-discount_type="${l.discount_type}">${e.config.doFormat(80)}</span><span class="ymq-quantity-compared-price-no-discount" data-quantity="${l.quantity}">${e.config.doFormat(100)}</span>`:`<span class="ymq-quantity-discount-price" data-quantity="${l.quantity}" data-discount="${l.discount}" data-discount_type="${l.discount_type}">${e.config.doFormat(80)}</span><span class="ymq-quantity-compared-price" data-quantity="${l.quantity}">${e.config.doFormat(100)}</span><span class="ymq-quantity-discount">${1==Number(l.discount_type)?a:""} ${d}</span>`,19==t){var p=!1;1==Number(l.default)&&(e.config.quantity.defalut_quantity=Number(l.quantity))}else{if(1==n){p=!0;e.config.quantity.defalut_quantity=Number(l.quantity)}else p=!1;1==Number(l.default)&&(e.config.quantity.defalut_quantity=Number(l.quantity))}e.optionHtml+=`\n                    <div class="ymq-quantity-radio-box">\n                        <input data-index="${r}" value="${l.quantity}"  class="ymq-checkbox-radio ymq-quantity-radio ymq-quantity-radio-${l.quantity}  ${e.isShopify?"ymq-shopify-option":""} ${e.config.attrib_prefix}${e.selectedYmqOption.id}" id="${e.config.attrib_prefix}${l.id}" data-id="${l.id}" type="radio" name="${e.creatName()}" id="tool-${l.id}" ${1==Number(l.default)||p?"checked":""}>\n                        <label class="ymq-quantity-radio-label" for="${e.config.attrib_prefix}${l.id}"><span class="ymq-quantity-buy">${o}</span><span class="ymq-quantity-buy-quantity">${l.quantity}${19==t?"+":""}</span>${c}</label>\n                    </div>\n                    `,n++})),19==t&&(this.optionHtml+=`\n                    <div class="ymq-quantity-show-box ymq-quantity-radio-box">\n                        <span><span class="ymq-quantity-buy">${o} </span><span class="ymq-quantity-buy-quantity">99+</span><span class="ymq-quantity-discount-price"></span><span class="ymq-quantity-compared-price"></span><span class="ymq-quantity-discount"> -€10.00</span></span>\n                    </div>\n                    `),this.optionHtml+="\n                        </div>\n                "}return e}creatCheckbox(){return this.creatrc("checkbox"),this}creatRadio(){return this.creatrc(),this}creatrc(t="radio"){var e=this,i=this.selectedYmqOption.options,n=e.conditionJson;for(var o in this.optionHtml="\n                    <div>\n                ",i){var a=i[o],s="",r="",l="";0==Number(a.hasstock)?(s=`data-title="${e.config.ymq_option_branding.lan.sold_out}"`,r="ymq_disabled_class ymq_sold_out",l="disabled"):n.hasOwnProperty(a.id)&&(s=`data-title="${n[a.id].disabled_text}"`,r="ymq_disabled_class ymq_condition_disabled"),e.selectedQtyInput&&(e.optionHtml+=`<div class="ymq-qty-input-item ${e.selectedQtyInputFlexClass} ymq-qty-input-item-${e.selectedYmqOption.id} ${e.config.attrib_item_prefix}${a.id}" id="ymq-qty-input-item-${a.id}" data-id="${a.id}">`),this.optionHtml+=`\n                <div class="ymq_r_c_box ${e.config.attrib_item_prefix}${a.id}">\n                    <input ${l} ${s} class="ymq-checkbox-radio ${r} ${e.isShopify?"ymq-shopify-option":""} ${e.config.attrib_prefix}${e.selectedYmqOption.id}" id="${e.config.attrib_prefix}${a.id}" data-id="${a.id}" data-one_time="${a.one_time}" data-price="0" value="${a.value}" type="${t}" name="${e.creatName()}" id="tool-${a.id}" ${1==Number(a.default)?"checked":""}>\n                    <label ${s} for="${e.config.attrib_prefix}${a.id}">${a.value} ${e.config.getSelectButtonPrice(0,e.selectedYmqOption.type.toString())}</label>\n                </div>\n                `,e.selectedQtyInput&&(e.optionHtml+=`<div class="ymq-qty-input-wrappe-div ymq-qty-input-wrappe-div-${e.selectedYmqOption.id}" id="ymq-qty-input-wrappe-div-${a.id}" data-id="${a.id}">${e.config.qty_input_text}<input value="1" min="1" class="ymq-qty-input ymq-qty-input-${e.selectedYmqOption.id} ymq-qty-input-${a.id}" id="ymq-qty-input-${a.id}" data-id="${a.id}" type="number"></div></div>`)}return this.optionHtml+="\n                    </div>\n            ",e}creatCanvas(t="radio"){var e=this,i=e.selectedYmqOption.options,n=e.conditionJson,o=!1,a=!1;1==e.config.util.getValue(e.config.ymq_option_branding.extra,"img-option-bigger",1)&&(o=!0),2==e.config.util.getValue(e.config.ymq_option_branding.extra,"img-option-bigger",1)&&(a=!0),3==e.config.util.getValue(e.config.ymq_option_branding.extra,"img-option-bigger",1)&&(o=!0,a=!0);var s="";e.selectedYmqOption.hasOwnProperty("style")&&2==Number(e.selectedYmqOption.style)&&(2==Number(e.selectedYmqOption.zoom)?(o=!0,a=!1):3==Number(e.selectedYmqOption.zoom)?(o=!1,a=!1):4==Number(e.selectedYmqOption.zoom)?(o=!1,a=!0):5==Number(e.selectedYmqOption.zoom)&&(o=!0,a=!0),""!=e.selectedYmqOption.width&&(s+=`width:${e.selectedYmqOption.width}px;`),""!=e.selectedYmqOption.height&&(s+=`height:${e.selectedYmqOption.height}px;`),""!=e.selectedYmqOption.b_radius&&(s+=`border-radius: ${e.selectedYmqOption.b_radius}px;`)),this.optionHtml='\n                    <div class="spotlight-group">\n                ';var r=!1;for(var l in 1==Number(e.config.util.getValue(e.config.ymq_option_branding.extra,"show-canvas-text",0))&&(r=!0),i){var d=i[l],c="",p="",m="";0==Number(d.hasstock)?(c=`data-title="${e.config.ymq_option_branding.lan.sold_out}"`,p="ymq_disabled_class ymq_sold_out",m="disabled"):n.hasOwnProperty(d.id)&&(c=`data-title="${n[d.id].disabled_text}"`,p="ymq_disabled_class ymq_condition_disabled");var u=d.value;e.selectedQtyInput&&(e.optionHtml+=`<div class="ymq-qty-input-item ${e.selectedQtyInputFlexClass} ymq-qty-input-item-${e.selectedYmqOption.id} ${e.config.attrib_item_prefix}${d.id}" id="ymq-qty-input-item-${d.id}" data-id="${d.id}">`),2==d.canvas_type?(a&&(u=`<img class='ymq_tooltip_switch_img' src='${d.canvas2}'><br>${d.value}`),this.optionHtml+=`\n                        ${r?'<label class="ymq-canvas-box '+e.config.attrib_item_prefix+d.id+'" for='+e.config.attrib_prefix+d.id+">":""}\n                        <input ${m} ${c} class="ymq-options-img-input ${p} ${e.isShopify?"ymq-shopify-option":""} ${e.config.attrib_prefix}${e.selectedYmqOption.id}" id="${e.config.attrib_prefix}${d.id}" data-id="${d.id}" data-one_time="${d.one_time}" data-price="0" value="${d.value}" type="${t}" name="${e.creatName()}" id="tool-${d.id}" ${1==Number(d.default)?"checked":""}>\n                        <label ${c} data-show="${u}" style="${s}background: url(${e.config.util.getShopifySmallImg(d.canvas2)}) center top / cover;" class="ymq-options-img-label ymq-dicopy ${e.config.attrib_item_prefix}${d.id}" data-addclass="ymq_tooltip_switch_img_box" for="${e.config.attrib_prefix}${d.id}">\n                        `,o&&(this.optionHtml+=`\n                        <div class="spotlight" data-src="${d.canvas2}" data-description="${d.value}"></div>\n                        `),e.config.util.getValue(e.config.ymq_option_branding.img,"--img-selected-upper-url","")&&(this.optionHtml+=`<img class="ymq-selected-img-up-img ymq-img-up-img" src="${e.config.util.getValue(e.config.ymq_option_branding.img,"--img-selected-upper-url","")}" alt="">`),e.config.util.getValue(e.config.ymq_option_branding.img,"--img-disabled-upper-url","")&&(this.optionHtml+=`<img class="ymq-disabled-img-up-img ymq-img-up-img" src="${e.config.util.getValue(e.config.ymq_option_branding.img,"--img-disabled-upper-url","")}" alt="">`),this.optionHtml+=`\n                        \n                        \n                        </label>\n                        ${r?'<span class="ymq-canvas-text">'+d.value+"</span></label>":""}\n                    `):(this.optionHtml+=`\n                        ${r?'<label class="ymq-canvas-box '+e.config.attrib_item_prefix+d.id+'" for='+e.config.attrib_prefix+d.id+">":""}\n                        <input ${m} ${c} class="ymq-options-img-input ${p} ${e.isShopify?"ymq-shopify-option":""} ${e.config.attrib_prefix}${e.selectedYmqOption.id}" id="${e.config.attrib_prefix}${d.id}" data-id="${d.id}" data-one_time="${d.one_time}" data-price="0" value="${d.value}" type="${t}" name="${e.creatName()}" id="tool-${d.id}" ${1==Number(d.default)?"checked":""}>\n                        <label ${c} data-show="${u}" style="${s}background-color: #${d.canvas1};" class="ymq-options-img-label ymq-dicopy ${e.config.attrib_item_prefix}${d.id}" for="${e.config.attrib_prefix}${d.id}">\n                        \n                    `,e.config.util.getValue(e.config.ymq_option_branding.img,"--img-selected-upper-url","")&&(this.optionHtml+=`<img class="ymq-selected-img-up-img ymq-img-up-img" src="${e.config.util.getValue(e.config.ymq_option_branding.img,"--img-selected-upper-url","")}" alt="">`),e.config.util.getValue(e.config.ymq_option_branding.img,"--img-disabled-upper-url","")&&(this.optionHtml+=`<img class="ymq-disabled-img-up-img ymq-img-up-img" src="${e.config.util.getValue(e.config.ymq_option_branding.img,"--img-disabled-upper-url","")}" alt="">`),this.optionHtml+=`\n                        </label>\n                       ${r?'<span class="ymq-canvas-text">'+d.value+"</span></label>":""}\n\n                    `),e.selectedQtyInput&&(e.optionHtml+=`<div class="ymq-qty-input-wrappe-div ymq-qty-input-wrappe-div-${e.selectedYmqOption.id}" id="ymq-qty-input-wrappe-div-${d.id}" data-id="${d.id}">${e.config.qty_input_text}<input value="1" min="1" class="ymq-qty-input ymq-qty-input-${e.selectedYmqOption.id} ymq-qty-input-${d.id}" id="ymq-qty-input-${d.id}" data-id="${d.id}" type="number"></div></div>`)}return this.optionHtml+="\n                </div>\n            ",e}creatDate(){var t=this;return t.optionHtml=`\n                    \n                    <input class="ymq-input-text ${t.config.attrib_prefix}${t.selectedYmqOption.id}" data-price="0" readonly type="text" name="${t.creatName()}" id="${t.config.attrib_prefix}${t.selectedYmqOption.id}">\n            `,t}creatMultipleName(t){return t}creatName(t=null){var e=this;return t?e.creatMultipleName(`properties[${t}]`):e.isShopify?"ymq-option"+(e.selectedYmqOption.optionsIndex- -1):-1!=bestJq.inArray(e.selectedYmqOption.label,e.needAddLabel)?e.creatMultipleName(`properties[${e.selectedYmqOption.label}-${e.selectedYmqOption.id.toString().split("tem").join("-")}]`):e.creatMultipleName(`properties[${e.selectedYmqOption.label}]`)}YmqGetDay(t=0){t=Number(t);var e=new Date;return e.setDate(e.getDate()+t),e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()}initData(){var t=this,e={};e={theme:t.config.ymq_jedateblue,isToday:!1,onClose:!1,trigger:"click",language:t.config.ymq_enLang,format:t.selectedYmqOption.date_format,donefun:function(t){bestJq(t.elem).change()}},10==Number(t.selectedYmqOption.type)&&(e.range=" ~ ",e.multiPane=!1);var i="",n="";1==Number(t.selectedYmqOption.date_minDateType)?i=(new Date).Format("yyyy-MM-dd")+" ":2==Number(t.selectedYmqOption.date_minDateType)?""!=t.selectedYmqOption.min_date&&(i=t.selectedYmqOption.min_date+" "):3==Number(t.selectedYmqOption.date_minDateType)&&(i=t.YmqGetDay(t.config.util.getValue(t.selectedYmqOption,"min_days",1))),1==Number(t.selectedYmqOption.date_maxDateType)?n=(new Date).Format("yyyy-MM-dd")+" ":2==Number(t.selectedYmqOption.date_maxDateType)?""!=t.selectedYmqOption.max_date&&(n=t.selectedYmqOption.max_date+" "):3==Number(t.selectedYmqOption.date_maxDateType)&&(n=t.YmqGetDay(t.config.util.getValue(t.selectedYmqOption,"max_days",1))),i+t.selectedYmqOption.min_time!=""&&(e.minDate=i+t.selectedYmqOption.min_time),n+t.selectedYmqOption.max_time!=""&&(e.maxDate=n+t.selectedYmqOption.max_time);var o="";t.selectedYmqOption.day_limit.length>0&&(o="%"+t.selectedYmqOption.day_limit.join(",%"));var a="";return t.selectedYmqOption.weekly_limit.length>0&&(a="ymq"+(a=t.selectedYmqOption.weekly_limit.join("-"))),o+a!=""&&(e.valiDate=[o+a,!1]),window.best_option.jeDate("#"+t.config.attrib_prefix+t.selectedYmqOption.id,e),this}initDropdown(t=null){var e=this;return t||(t=bestJq("#"+e.config.attrib_prefix+e.selectedYmqOption.id)),t.dropdown({variantChange:function(t){t.hasClass("ymq-shopify-option")}}),e}initColpick(){var t=this;return bestJq("#"+t.config.attrib_prefix+t.selectedYmqOption.id).colpick({submit:0,onChange:function(t,e,i,n,o){bestJq(n).next().css("background","#"+e),bestJq(n).val("#"+e),bestJq(n).trigger("keyup")}}),t}initFile(){return this}setJson(t={},e={}){var i=this;return i.json=t,i.conditionJson=e,i}static getInstance(e){return this.instance||(this.instance=new t(e)),this.instance}},Product=class t{constructor(){var t=this;t.initConfig(),t.instance=null,t.variant=Variant.getInstance(),t.htmlBuilder=Html.getInstance(),t.validate=Validate.getInstance(),t.upload=Upload.getInstance(),t.init()}initMemberVariables(){var t=this;t.variantJson={},t.scriptArr=[],t.quantityDomInited=!1,t.conditionArr=[],t.formData={},t.selectedValue={},t.ymq_condition={},t.ymq_total_price=0,t.ymq_total_price_single=0,t.ymq_option_price=0,t.ymq_option_price_single=0,t.quantityback=0,t.ogFormData=new FormData,t.needchange=!0,t.paymentButtonDom=""}init(){this.initMemberVariables(),this.doHook("before_init_product").buildStyle().buildUploadModalDom().isShowBuyItNow().hideShopifyDomAndRegisterAddCartEvent().disabledJqEvent().getShopifySelectDom().buildShopifyDom().buildYmqDom().qtyInputIsDisabled().isRadioCanBeUnchecked().textAreaAutoHeight().triggerThemeOptions().buildQuantityDom().buildVariantConditionName().hidePaymentButton().doCancelAjaxCart().buildShowAddTotalPriceInfoDom().buildAddToCartDom().disabledSubmit().registerDeleteFileViewEvent().registerInputChangeEvent().buildFormData()}doHook(t){return this.config.ymqHook(t),this}qtyInputIsDisabled(){return bestJq(".ymq-options-qty-box .ymq-qty-input").attr("disabled",!0),bestJq(".ymq-options-qty-box select option:selected:not(:disabled),input[type=radio]:checked:not(:disabled),input[type=checkbox]:checked:not(:disabled)").each((function(){var t=bestJq(this).data("id");t&&bestJq(`.ymq-qty-input-${t}`).attr("disabled",!1)})),this}isShowBuyItNow(){var t=this;return t.config.hideByNow=!1,t.config.cancelAjaxCart=!1,0==Number(t.config.form_box_dom.find("[name='id']"))?(console.log(1),t.config.hideByNow=!0,t.config.cancelAjaxCart=!0,t):0==Number(t.config.util.getValue(t.config.ymq_option_branding.extra,"bunow","1"))?(console.log(1.1),t.config.hideByNow=!0,t.config.cancelAjaxCart=!0,t):(t.config.hideByNow=window.best_option.hideByNow,t.config.cancelAjaxCart=window.best_option.cancelAjaxCart,console.log(t.config.hideByNow,t.config.cancelAjaxCart,21321312),t)}registerDeleteFileViewEvent(){var t=this;return bestJq(document).on("click",".ymq_upload_file_item_del",(function(){var e=bestJq(this),i=e.data("name"),n=e.data("num");t.upload.fileData.hasOwnProperty(i)&&t.upload.fileData[i].hasOwnProperty(n)&&delete t.upload.fileData[i][n],e.parents(".ymq-options-box").find('input[type="file"]').change().parents(".ymq_upload_new").removeClass("ymq_disabled"),e.parents(".ymq_upload_file_item").fadeOut().remove()})),t}buildUploadModalDom(){return this}de(t,e,i,n,o){if(t){var a={};if(ymq.$&&(a=ymq.$._data(t))&&a.events&&a.events[e])for(var s=0;s<a.events[e].length;s+=1)a.events[e][s].namespace!=n&&""!=n||(a.events[e][s].handler=function(){});if((a=bestJq._data(t))&&a.events&&a.events[e])for(s=0;s<a.events[e].length;s+=1)a.events[e][s].namespace!=n&&""!=n||(a.events[e][s].handler=function(){})}}disabledJqEvent(){var t=this;return t.intervalResult(1e4,100,(function(){return window.$&&$.fn&&$.fn.jquery?ymq.$=$:window.jQuery&&jQuery.fn&&jQuery.fn.jquery&&(ymq.$=jQuery),ymq.$?(t.buildQuantityDom(),console.log("shopify jq"),t.doAddCart(),!0):"complete"==document.readyState})),t}intervalResult(t,e,i,n){"function"==typeof t?(n=e,i=t,e=1e3,t=20):"function"==typeof e&&(n=i,i=e,e=1e3),"function"!=typeof i&&(i=function(){return!1});var o=0,a=setInterval((function(){++o>t||i(o)?clearInterval(a):"function"==typeof n&&n()}),e)}doCancelAjaxCart(){var t=this;return t.config.cancelAjaxCart||(bestJq(document).on("click","body",(function(e){t.I.each((function(){if(bestJq(this).length>0&&e.pageX>=bestJq(this).offset().left&&e.pageX<=bestJq(this).offset().left+bestJq(this).outerWidth()&&e.pageY>=bestJq(this).offset().top&&e.pageY<=bestJq(this).offset().top+bestJq(this).outerHeight())return t.controllerPaymentButton(!0,!0),!1}))})),t.controllerPaymentButton()),t}doAddCart(){var t=this,e=t.config.util.getValue(t.config.ymq_option_branding.extra,"cart-ajax","0");if(1==Number(e))return!1;if(!t.config.cancelAjaxCart)return!1;var i=t.config.form_box_dom;t.I.each((function(e,i){t.de(i,"click","namespace","","disable")})),t.I.on("click.ymq",(function(e){if(t.config.ymqHook("doAddCart_before_validate"),t.buildFormData().buildOtherFormData(),t.validate.validateAll(t.formData,!0),0!=t.validate.validateCount)return!1;t.config.ymqHook("doAddCart_after_validate"),t.buildFormData().buildOtherFormData();var n=bestJq(this);if(t.startLoading(n),i.attr("action"))var o=i.attr("action").match(/\/(\w{2})\/cart\/add/);else o="".match(/\/(\w{2})\/cart\/add/);if(t.config.ymqHook("doAddCart_before_getAjaxData"),t.getAjaxDataByFormData(),t.ogFormData.set("quantity",t.getQuantity()),t.ogFormData.set("id",t.variant.variant_id),t.config.ymqHook("doAddCart_after_getAjaxData"),window.fbq){var a=0;if(t.config.variantData.hasOwnProperty(t.variant.variant_id)){var s=t.config.variantData[t.variant.variant_id],r=(a=s.price,{content_type:"product_group",content_ids:[t.config.product.id],currency:Shopify.currency.active,value:a/100+t.ymq_total_price,num_items:t.getQuantity(),content_name:s.title,content_category:t.config.product.type});"tecnologias-mjm.myshopify.com"==Shopify.shop?fbq("track","AddToCart",r,{event_id:t.ymqUUID()}):fbq("track","AddToCart",r),console.log("fbq done")}}bestJq.ajax({type:"POST",url:"/cart/add",enctype:"multipart/form-data",processData:!1,contentType:!1,cache:!1,data:t.ogFormData}).done((function(e){t.config.ymqHook("doAddCart_success"),setTimeout((function(){t.endLoading(n)}),5e3);var i=t.config.util.getValue(t.config.ymq_option_branding.extra,"add-cart-url","");""==i?window.location.href=o?"/"+o[1]+"/cart":"/cart":0==i?location.reload():window.location.href=o?"/"+o[1]+`/${i}`:`/${i}`})).fail((function(e){if(t.config.ymqHook("doAddCart_error"),setTimeout((function(){t.endLoading(n)}),5e3),console.log(e),t.config.variantData.hasOwnProperty(t.variant.variant_id)){var i=t.config.variantData[t.variant.variant_id].name,o=t.config.util.getValue(t.config.ymq_option_branding.lan,"inventory_reminder","The product %s is already sold out.");alert(o.replace("%s",i))}})),e.stopImmediatePropagation(),e.preventDefault()}))}ymqUUID(){for(var t=[],e="0123456789abcdef",i=0;i<36;i++)t[i]=e.substr(Math.floor(16*Math.random()),1);return t[14]="4",t[19]=e.substr(3&t[19]|8,1),t[8]=t[13]=t[18]=t[23]="-",t.join("")}hideShopifyDomAndRegisterAddCartEvent(){for(var t=this,e=t.config.form_box_dom,i=t.config.shop,n=Shopify.theme.name.toLowerCase(),o=null,a=t.config.product,s=(["slimedotnet.myshopify.com","ridesharegear.myshopify.com","shoretees-ca.myshopify.com","winspear-picks.myshopify.com","sallureofficial.myshopify.com","the-million-roses-romania.myshopify.com","eventtechrentals.myshopify.com","hocwoman.myshopify.com","wigirlhair.myshopify.com","petshopmalta.myshopify.com","the2tails-mermaid-tails.myshopify.com","gwyllem.myshopify.com","kirudansk.myshopify.com","us-jewels-gems.myshopify.com","neweditionshop.myshopify.com","olemasonjar.myshopify.com","ronniemac69.myshopify.com","3bdshop0004.myshopify.com","teddy-winthrop.myshopify.com"].indexOf(i),bestJq('\x3c!-- ymq custom product options by YMQ --\x3e\x3c!-- https://apps.shopify.com/ymq-options --\x3e<div id="ymq-box" class="ymq-box"></div>')),r=(e.find('[name="id"]'),bestJq('<select id="test1111" name="id" style="display: none;"></select>')),l=0;l<a.variants.length;l+=1)r.append('<option value="'+a.variants[l].id+'"></option>');var d,c=[".productForm-block--options-inline .selector-wrapper",".swatches__container","#variations-content-product-template > .selector-wrapper",".product__variants__wrap",'.variations [class^="nt_select_pr_"]',".product__selectors .selector-wrapper, .selector-wrapper-secton .selector-wrapper",".ProductForm__Option","> .product-options.no-options > .product-type","div.select:not(.shopify-select)",".inline-field-wrapper","> .row > .col-sm-12.col-xs-12",".row .col-md-6.col-sm-12",".product-details-wrapper .product-options","> .product-options .swatches","> .product-options",".radio-wrapper",".product-single__variant","table.variations",".selection-wrapper.variant .selector-wrapper",".selection-wrapper.variant",".details_wrapper .color_product__options, .details_wrapper .size_product__options, .details_wrapper .single_product__options",".product-options--mobile, .product-options--desktop",".product-options",".select-container",".product-single__swatch",".lh-swatch-images, .lh-swatch-simple",".selector-wrapper:not(.full-width):not(.quantity-product-template)",".gf_swatches-selector",".product-form__option",".product-form__item:not(.product-form__item--quantity):not(.product-form__item--submit):not(.product-form__quantity-selector)",".variant-wrapper, > .swatches","[data-product-options-contariner]",".form__control","div.option",".form__control","#product-variants",".option-selectors",".variant-group",".form-field-swatch",'[class*="medium-item-grid"] .item, [class*="small-item-grid"] .item',".col-md-6.col-sm-12.col-xs-12:not(.selector-wrapper)",".product-options .swatches",".swatches-container",".tt-swatches-container .tt-wrapper",".tt-swatches-container",".variant-option",".option-header, .option-values",".product-option-list",'div[class="input-row"]',".product-form__controls-group .pf-container",".product-form__item",".variations","div[data-product-options-container]","[data-product-options-container]",".gf_variants-wrapper",".product-form__variants",'[data-label="(P) Variants"]','[data-label="(P) Swatches"]','[data-pf-type="ProductVariant"]',"> .js-product-options",".form__input-wrapper--select",".prd-block_options",".materialize-select",".c-cartform__label",".product-page--variants",".variants",".so-product-variants-wrap",".gt_product-swatches",".product-form--variants .radios--root, .product-form--variants .disclosure--root",".product-details__options .product-details__option-wrapper",".product-form-option",".so-custom-field-wrap",".sh-product-options",".product-page-info__variants"],p=t.config.util.getValue(t.config.ymq_option_branding.extra,"theme-variant-class",""),m=t.config.util.getValue(t.config.ymq_option_branding.extra,"theme-variant-class-no","");if(window.best_option.ymq_has_only_default_variant&&""!=m&&(p=m),""!=p&&c.unshift(p),t.config.replace&&(d=bestJq(t.config.replace)),!d||!d.length)for(l=0;l<c.length;l+=1)if(0<(d=e.find(c[l])).length){".product-options--mobile, .product-options--desktop"===c[l]&&(d=d.add(e.find(".selector-wrapper:not(.full-width):not(.quantity-product-template)")));break}".product-form-wrapper .selector-wrapper"===c[l]&&setTimeout((function(){bestJq(".product-form-options-wrapper").removeClass("large--hide")}),1e4);var u=":not(.scr-open-size-chart):not([data-quantity-action]):not(.js-qty-button):not(.uploadkit-button):not(.accordion__header):not(.quantity--input__button):not(.btn-num-product-down):not(.btn-num-product-up)";if("loft"===n&&0<e.find('[name="add"], .add-to-cart-btn').length?o=e.find('[name="add"], .add-to-cart-btn'):0<e.find("input#pre-order[type=submit]").length?o=e.find("input#pre-order[type=submit]").first():0<e.find("button[name=add]:not(.dummy_button_for)").length?o=e.find("button[name=add]:not(.dummy_button_for)"):0<e.find("input.add_to_cart, button.add_to_cart").length?o=e.find("input.add_to_cart, button.add_to_cart").first():0<e.find("button.add-to-cart, button.ProductForm__AddToCart").length?o=e.find("button.add-to-cart, button.ProductForm__AddToCart").first():0<e.find(".addToCart").length?o=e.find(".addToCart").first():0<e.find('button[type="submit"]'+u+", input[type=submit]").length?o=e.find('button[type="submit"]'+u+", input[type=submit]"):0<e.find("button"+u).length?o=e.find("button"+u).first():0<e.find(".btn-addtocart").length?o=e.find(".btn-addtocart").first():0<e.find(".shg-btn, .paira-add-to-cart").length&&(o=e.find(".shg-btn, .paira-add-to-cart").first()),o){if(a&&("pf-atc-button"===o.attr("id")||o.is('[data-pf-type="ProductATC"]')))(s=bestJq("<button></button>")).html(o.html()),s.attr("class",o.attr("class")),o.replaceWith(s),o=s;setTimeout((function(){o.removeClass("disabled");try{o.attr("type","submit")}catch(t){}}),20)}if("optimizeinstagram.myshopify.com"===i?d=e.find(c[6]):"marei1998.myshopify.com"===i&&(d=e.find(".product-options label[for], .product-options label[for] + .select-wrapper")),o&&o.hasClass&&o.hasClass("shg-btn")){var y=bestJq('<button type="submit" style="border: 0;" class="shg-btn" id="'+o.get(0).id+'">ADD TO CART</button>');o.replaceWith(y),(o=y).click((function(t){e.submit()}))}if(0<d.length){t.config.replace=c[l],d.parent().removeClass("d-none").removeClass("hide-for-all");var f=d.first().find('select, input[type="radio"], input[type="checkbox"]').first();f.length&&bestJq._data(f.get(0),"events");".row .col-md-6.col-sm-12"!==c[l]&&".col-md-6.col-sm-12.col-xs-12:not(.selector-wrapper)"!==c[l]||s.find(".selector-wrapper").css({paddingLeft:15}),t.config.variantOriginal?d.last().css("marginBottom",Number(t.config.util.getValue(t.config.ymq_option_branding.extra,"variant-original-margin-bottom",0))).after(s):d.first().before(s),s.parent().hide(),s.parent().show(),s.parent().removeClass("hide"),s.parent().parent().hide(),s.parent().parent().show(),s.parent().removeClass("hidden"),".gf_variants-wrapper"===c[l]&&bestJq(c[l]+":first").closest('[data-label="(P) Variants"]').attr("id",""),s.last().after(e.find(".size-chart-link, .size-chart-container")),t.config.variantOriginal||d.each((function(t,e){0===bestJq(e).find('input[name="quantity"]:not(.product-single__swatch__input), input[type="text"]:not(.select-dropdown):not([disabled="disabled"]), input[type="number"], input[type="submit"], button:not([aria-controls="modal-bohobi-size-chart"]):not(.custom-style-select-box)').filter(':not(.ProductForm__Item):not(.Popover__Value):not(.Popover__Close):not([data-activates]):not(.product-option-quantity):not([id^="SingleOptionSelector-"]):not([aria-controls="modal-size-chart"])').length&&bestJq(e).hide()}))}else t.config.replace="no valid option found",e.prepend(s);var q=t.config.util.getValue(t.config.ymq_option_branding.extra,"hide-shopify-option","");""!=q&&bestJq(q).hide();var h=t.config.util.getValue(t.config.ymq_option_branding.extra,"product-hide","");""!=h&&bestJq(h).hide();var g=t.config.util.getValue(t.config.ymq_option_branding.extra,"product-show","");""!=g&&bestJq(g).show();var b=e.find(".product-form-grid.product-form-grid-select");b.length&&(b.first().after(b.find(".product-quantity-label, .product-quantity-input")),e.find(".swatch, .product-form-grid.product-form-grid-select, .fake-choice, .product-variants-radio-btns").hide(),bestJq(".product-single__meta > [itemscope] > .product-variants-item").hide());var _=t.config.util.getValue(t.config.ymq_option_branding.extra,"product-add-to-cart","");if(""!=_)var v=`${_},.shopify-payment-button__button [role="button"], .shopify-payment-button__button [role="button"] span, .sticky_atc_js`;else v='.shopify-payment-button__button [role="button"], .shopify-payment-button__button [role="button"] span, .sticky_atc_js';var w=bestJq('form[action*="/cart/add"]'),x=(w=w.not('.ssw-product-form, #add-item-qv, [id^="product-actions"], .product-form--mini, .ca-form')).find('[name="add"], .add-to-cart-btn,#addToCart');return x=x.add(o).add(v),t.I=x,t.doAddCart(),t}startLoading(t){t.addClass("ymq-btn-progress")}endLoading(t){t.removeClass("ymq-btn-progress")}controllerPaymentButton(t=!0,e=!1){var i=this;1==t&&i.buildFormData(),1==e?(i.validate.validateAll(i.formData,!0),0!=i.validate.validateCount?(bestJq(i.config.form_box).find(i.paymentButtonDom).css("pointerEvents","none"),i.config.form_box_dom.find(i.paymentButtonDom).css("pointerEvents","none"),i.I.css("pointerEvents","none")):(bestJq(i.config.form_box).find(i.paymentButtonDom).css("pointerEvents","auto"),i.config.form_box_dom.find(i.paymentButtonDom).css("pointerEvents","auto"),i.I.css("pointerEvents","auto"))):i.validate.validateAllWithOutPrompt(i.formData)?(bestJq(i.config.form_box).find(i.paymentButtonDom).css("pointerEvents","none"),i.config.form_box_dom.find(i.paymentButtonDom).css("pointerEvents","none"),i.I.css("pointerEvents","none")):(bestJq(i.config.form_box).find(i.paymentButtonDom).css("pointerEvents","auto"),i.config.form_box_dom.find(i.paymentButtonDom).css("pointerEvents","auto"),i.I.css("pointerEvents","auto"))}hidePaymentButton(){var t=this,e=t.config.util.getValue(t.config.ymq_option_branding.extra,"payment-button-hide","");if(!t.config.hideByNow)return t.paymentButtonDom='#dynamic-checkout-cart, .shopify-cleanslate, .additional-checkout-buttons,[data-shopify="payment-button"]',""!=e&&bestJq(t.config.form_box).find(e).length>0&&(t.paymentButtonDom=e),bestJq(document).on("click","body",(function(e){bestJq(t.config.form_box).find(t.paymentButtonDom).each((function(){if(bestJq(this).length>0&&e.pageX>=bestJq(this).offset().left&&e.pageX<=bestJq(this).offset().left+bestJq(this).outerWidth()&&e.pageY>=bestJq(this).offset().top&&e.pageY<=bestJq(this).offset().top+bestJq(this).outerHeight())return t.controllerPaymentButton(!0,!0),!1}))})),t.controllerPaymentButton(),t;var i="";return""!=e&&(i+=`\n                    ${e}{\n                        display: none!important;\n                    }\n                `,bestJq(e).hide()),i+='\n                #dynamic-checkout-cart, .shopify-cleanslate, .additional-checkout-buttons,[data-shopify="payment-button"]{\n                    display: none!important;\n                }\n            ',bestJq("#dynamic-checkout-cart, .shopify-cleanslate, .additional-checkout-buttons").hide(),bestJq('[data-shopify="payment-button"]').hide().remove(),bestJq(t.config.styleDomId).append(i),t}buildVariantConditionName(){var t=this,e=t.config.util.getValue(t.config.ymq_option_branding.extra,"variant-condition-label-class",""),i=t.config.util.getValue(t.config.ymq_option_branding.extra,"variant-condition-value-parent-class","");return t.config.variantOriginal&&""!=e&&""!=i&&bestJq(e).length>0&&bestJq(i).length>0&&bestJq(e).each((function(){bestJq(this).parents(i).attr("name",`option-box-ymq-variant-${t.config.util.htmlSpecialChars(bestJq(this).text()).trim()}`)})),e=".ymq-options-box .ymq-option-title .ymq_lable",i=".ymq-options-box",bestJq(e).each((function(){bestJq(this).parents(i).attr("name",`option-box-ymq-variant-${t.config.util.htmlSpecialChars(bestJq(this).text()).trim()}`)})),this}buildStyle(){var t=this,e=":root{";t.config.ymq_option_branding.hasOwnProperty("original-select")||(e+="\n                    --no-strong-padding-t: 6;\n                    --no-strong-padding-r: 22;\n                    --no-strong-padding-b: 6;\n                    --no-strong-padding-l: 8;\n                    --no-strong-border: 1;\n                    --no-strong-border-color: #a0a0a0;\n                    --no-strong-border-radius: 4;\n                    --no-strong-min-height: 36;\n                    --no-strong-color: #000;\n                    --no-strong-background: #fff;\n                    --no-strong-line-height: 1.2;\n                    --no-strong-max-width: 400;\n                    --no-strong-border-color-focus: #a0a0a0;\n                    --no-strong-color-focus: #000;\n                    --no-strong-background-focus: #fff;\n                "),t.config.ymq_option_branding.hasOwnProperty("qty")||(e+="\n                    --qty-border-color: #000000;\n                    --qty-border-radius: 0;\n                    --qty-disabled-background-color: #CCCCCC;\n                    --qty-font-color: #000000;\n                    --qty-font-size: 14;\n                    --qty-height: 22;\n                    --qty-width: 44;\n                    --qty-margin-l-r: 2;\n                    --qty-margin-t-b: 2;\n                    --qty-max-width: 400;\n                "),Object.keys(t.config.ymq_option_branding).forEach((function(i){"lan"!=i&&"extra"!=i&&Object.keys(t.config.ymq_option_branding[i]).forEach((function(n){e+=`\n                        ${n}: ${t.config.ymq_option_branding[i][n]};\n                    `}))})),e+="}";var i=t.config.util.getValue(t.config.ymq_option_branding.extra,"title-value","1,2,9,10");(i=i.split(",")).push(18,19);var n=[];i.forEach((function(t){n.push(`.ymq-options-box-${t} .ymq_option_text_span`)})),e+=`\n                ${n.join(",")}{\n                    display: none;\n                }\n            `,e+=t.config.util.getValue(t.config.ymq_option_branding.extra,"extra-style-code",""),bestJq(t.config.styleDomId).html(e);var o=`<style type="text/css">${t.config.util.getValue(t.config.ymq_option_branding.extra,"customecss","")}</style>`;return bestJq("body").append(o),t}buildShopifyDom(){var t=this;return t.config.variantOriginal||t.variant.buildVariantHtml().isSoldOut(),t}isRadioCanBeUnchecked(){var t=this;return 1==t.config.util.getValue(t.config.ymq_option_branding.extra,"radio-unchecked",0)&&bestJq('.ymq-options-box:not(.ymq-shopify-option-box) input[type="radio"]').on("click",(function(){var t=bestJq(this).attr("name");bestJq(this).attr("checked")?bestJq(this).attr("checked",!1).prop("checked",!1).trigger("change"):(bestJq(`.ymq-options-box input[type="radio"][name="${t}"]`).attr("checked",!1).prop("checked",!1),bestJq(this).attr("checked",!0).prop("checked",!0))})),t}buildYmqDom(){var t=this;return t.config.ymqHook("buildYmqDom_b"),t.htmlBuilder.setJson(t.config.ymq_option_data,t.config.ymq_option_condition).buildtHtml(),t.config.ymqHook("buildYmqDom_a"),t}triggerThemeOptions(){var t=this;try{var e=t.config.util.getValue(t.config.ymq_option_branding.extra,"trigger-option-dom","");e&&bestJq(document).on("change",".ymq-shopify-option",(function(){if(bestJq(this).hasClass("ymq-dropdown"))var t=bestJq(this).find("option:selected").attr("id");else t=bestJq(this).attr("id");var i=(t=t.split("-")).length,n=t[i-2],o=t[i-1];t=e.replace(/ymq1/g,n).replace(/ymq2/g,o);bestJq(t).length>0&&(bestJq(t).trigger("click"),bestJq(t)[0].click())}))}catch(t){console.log(t)}return t}textAreaAutoHeight(){return bestJq.fn.ymqAutoHeight=function(){function t(t){t.style.height="auto",t.scrollTop=0,t.style.height=t.scrollHeight+"px"}this.each((function(){t(this),bestJq(this).on("input",(function(){t(this)}))}))},bestJq(".ymq-options-box textarea").ymqAutoHeight(),this}disabledSubmit(){var t=this;return t.config.hideByNow?(bestJq(t.config.form_box).submit((function(t){return t.preventDefault(),!1})),t):t}buildAddToCartDom(){var t=this;return t}getQuantity(){return parseInt(this.quantityDom.val())||1}reSetQtyByRadioValue(){var t=this.getQuantityGradeByRadioInput();null!=t&&this.setQuantity(t.quantity)}setQuantity(t){return isNaN(t)&&(t=1),t<1&&(t=1),this.quantityDom.val(t),this}setQuantityByQty(){var t=this;if(t.config.quantity_is_fix_type){var e=t.getQuantity();if(null!=(n=t.getQuantityGradeByRadioInput())){var i=n.quantity;e>i&&(bestJq(".ymq-quantity-radio:checked").parents(".ymq-quantity-radio-box").next(".ymq-quantity-radio-box").find(".ymq-quantity-radio").trigger("click"),t.reSetQtyByRadioValue()),e<i&&(bestJq(".ymq-quantity-radio:checked").parents(".ymq-quantity-radio-box").prev(".ymq-quantity-radio-box").find(".ymq-quantity-radio").trigger("click"),t.reSetQtyByRadioValue())}}else{var n,o=t.getQuantity();o=parseInt(o),isNaN(o)&&(o=1),!isNaN(t.config.min_quantity)&&o<t.config.min_quantity&&(o=t.config.min_quantity),!isNaN(t.config.max_quantity)&&o>t.config.max_quantity&&(o=t.config.max_quantity),t.setQuantity(o),null!=(n=t.getQuantityGradeByQtyInput())&&(0==bestJq(`.ymq-quantity-radio-${n.quantity}`).length?bestJq(".ymq-quantity-radio:checked").attr("checked",!1).prop("checked",!1):bestJq(`.ymq-quantity-radio-${n.quantity}`).attr("checked")&&bestJq(`.ymq-quantity-radio-${n.quantity}`).prop("checked")||(t.needchange=!1,bestJq(`.ymq-quantity-radio-${n.quantity}`).trigger("click")))}}setQuantityByRadio(){var t=this,e=t.getQuantityGradeByRadioInput();return null!=e?t.setQuantity(e.quantity):isNaN(t.config.min_quantity)?t.setQuantity(1):t.setQuantity(t.config.min_quantity),t}getShopifyJqDom(t){return ymq.$?ymq.$(t):bestJq(t)}buildQuantityDom(){var t=this,e=t.config.util.getValue(t.config.ymq_option_branding.extra,"show-quantity",""),i="";if(""!=t.config.form_class_name&&(i=`,${t.config.form_class_name} [name="quantity"]`),""!=e&&bestJq(e).length>0)var n=t.getShopifyJqDom(`${e}${i}`);else n=t.getShopifyJqDom(`${t.config.form_box} [name="quantity"]${i}`);if(n.length>=1)t.quantityDom=n,console.log(t.quantityDom,2233);else{if(!t.quantityDomInited){if(0==t.config.util.getValue(t.config.ymq_option_branding.extra,"quantity-box",1))var o=`\n                            <div id="${t.config.quantity_box}" style="display: none!important;">\n                                <input id="${t.config.quantity_input}" value="1" readonly type="hidden">\n                            </div>\n                        `;else o=`\n                            <div id="${t.config.quantity_box}">\n                                <div class="${t.config.quantity_change}" data-type="cut" id="${t.config.quantity_add}">-</div>\n                                <input id="${t.config.quantity_input}" name="quantity" value="1" type="text">\n                                <div class="${t.config.quantity_change}" data-type="add" id="${t.config.quantity_cut}">+</div>\n                            </div>\n                        `;bestJq("#ymq-box").append(o),t.quantityDomInited=!0}t.quantityDom=t.getShopifyJqDom(`#${t.config.quantity_input}`),console.log(t.config.quantity_has_value),t.config.quantity_is_fix_type&&t.config.quantity_has_value&&t.quantityDom.attr("readonly",!0).prop("readonly",!0),console.log(t.quantityDom,1122)}return t.registerQuantityChangeEvent(),t.setQuantityByRadio(),t}buildShowAddTotalPriceInfoDom(){var t=this,e=t.config.util.getValue(t.config.ymq_option_branding.extra,"product-price-in-product-page",""),i=t.config.util.getValue(t.config.ymq_option_branding.extra,"product-compare-at-price-in-product-page","");if(!(""!=e&&bestJq(e).length>0||""!=i&&bestJq(i).length>0)){var n=`\n                    <div id="ymq-price-addons">\n                        ${t.config.ymq_option_branding.lan.add_price_text.replace("%s",'<span id="ymq-addons-price"></span>')}\n                    </div>\n                `;bestJq("#ymq-box").append(n)}return t}registerQuantityChangeEvent(){var t=this,e=t.config.util.getValue(t.config.ymq_option_branding.extra,"quantity-change","");return bestJq(".ymq-quantity-change").each((function(e,i){t.de(i,"click","namespace","","disable")})),t.quantityDom.each((function(e,i){t.de(i,"change","namespace","ymq","disable")})),""!=e&&bestJq(e).each((function(e,i){t.de(i,"click","namespace","ymq","disable")})),bestJq(".ymq-quantity-change").on("click",(function(){var e=-1;"add"==bestJq(this).data("type")&&(e=1);var i=t.getQuantity();i=Number(i),i+=e,t.setQuantity(i),t.quantityDom.change()})),""!=e&&bestJq(e).on("click.ymq",(function(){t.quantityDom.change()})),t.quantityDom.on("change.ymq",(function(){console.log("qty change"),t.quantityChange()})),this}quantityChange(){this.setQuantityByQty(),this.buildFormData()}getQuantityGradeByQtyInput(){var t=this.getQuantity();return this.doGetQuantityGrade(t)}getQuantityGradeByRadioInput(){var t=bestJq(".ymq-quantity-radio:checked").val();return this.doGetQuantityGrade(parseInt(t))}doGetQuantityGrade(t){var e=this,i=null;if(e.config.hasQuantity&&e.config.quantity_has_value)if(e.config.quantity_is_fix_type)try{Object.keys(e.config.quantity.options).forEach((function(n){if(t==n)throw i=e.config.quantity.options[n],new Error("breakForEach")}))}catch(t){if("breakForEach"!=t.message)throw t}else try{Object.keys(e.config.quantity.options).forEach((function(n){if(t>=n&&t<=e.config.quantity.options[n].quantity_max)throw i=e.config.quantity.options[n],new Error("breakForEach")}))}catch(t){if("breakForEach"!=t.message)throw t}return i}getShopifySelectDom(){var t=this;t.config.form_box_dom.css("cssText","display:block !important;");var e=[],i=[],n=[],o=[];return t.config.form_box_dom.find("select").each((function(){e=[],i=[],n=[];var o=bestJq(this);bestJq(this).find("option").each((function(){e.push(bestJq(this).html()),i.push(bestJq(this).val()),n.push(t.config.util.htmlSpecialChars(bestJq(this).val()))})),Object.keys(t.config.ymq_shopify_options).forEach((function(a,s){t.config.shopifySelectDom.hasOwnProperty(a)||JSON.stringify(t.config.ymq_shopify_options[a])!=JSON.stringify(e)&&JSON.stringify(t.config.ymq_shopify_options[a])!=JSON.stringify(i)&&JSON.stringify(t.config.ymq_shopify_options[a])!=JSON.stringify(n)||(t.config.shopifySelectDom[a]={},t.config.shopifySelectDom[a].jq=o,t.config.shopifySelectDom[a].type="select",o.attr("id")?t.config.shopifySelectDom[a].id=o.attr("id"):(t.config.shopifySelectDom[a].id=`ymq_shopify_select_id_${a}`,o.attr("id",`ymq_shopify_select_id_${a}`)))}))})),t.config.form_box_dom.find(":radio").each((function(){o.push(bestJq(this).attr("name"))})),(o=bestJq.unique(o)).forEach((function(e){i=[],n=[],bestJq("input[name='"+e+"']").each((function(){i.push(bestJq(this).val()),n.push(t.config.util.htmlSpecialChars(bestJq(this).val()))}));var o=bestJq("input[name='"+e+"']");Object.keys(t.config.ymq_shopify_options).forEach((function(a,s){t.config.shopifySelectDom.hasOwnProperty(a)||JSON.stringify(t.config.ymq_shopify_options[a])!=JSON.stringify(i)&&JSON.stringify(t.config.ymq_shopify_options[a])!=JSON.stringify(n)||(t.config.shopifySelectDom[a]={},t.config.shopifySelectDom[a].jq=o,t.config.shopifySelectDom[a].type="radio",t.config.shopifySelectDom[a].name=e)}))})),t}registerInputChangeEvent(){var t=this;bestJq(t.config.form_box).find('input[type="text"],input[type="number"],textarea').on("keyup",(function(){var e=bestJq(this).parents(".ymq-options-box");t.buildFormData().validateOne(e),t.config.hideByNow&&t.config.cancelAjaxCart||t.controllerPaymentButton(!1)}));var e="input,select";return""!=t.config.form_class_name&&(e=`${t.config.form_class_name} input,${t.config.form_class_name} select`),bestJq(document).on("change",e,(function(){var e=bestJq(this).parents(".ymq-options-box");if(bestJq(this).hasClass("ymq-shopify-option")&&(t.variant.isSoldOut(),t.variant.changeUriByVariantId()),e.hasClass("ymq-options-qty-box")&&!bestJq(this).hasClass("ymq-qty-input")&&("SELECT"==bestJq(this).get(0).tagName?(e.find(".ymq-qty-input").attr("disabled",!0),bestJq(this).find("option:selected:not(:disabled)").each((function(){var t=bestJq(this).data("id");t&&bestJq(`.ymq-qty-input-${t}`).attr("disabled",!1)}))):("radio"==bestJq(this).attr("type")&&e.find(".ymq-qty-input").attr("disabled",!0),bestJq(this).prop("checked")&&!bestJq(this).prop("disabled")?bestJq(`.ymq-qty-input-${bestJq(this).data("id")}`).attr("disabled",!1):bestJq(`.ymq-qty-input-${bestJq(this).data("id")}`).attr("disabled",!0))),bestJq(this).hasClass("ymq-qty-input")&&bestJq(this).val(t.config.util.getIntValue(bestJq(this).val())),t.config.variantOriginal){if(t.config.iddom.length>0&&0==Number(t.config.util.getValue(t.config.ymq_option_branding.extra,"variant-id-from",0)))var i=t.config.iddom.val();else i=t.config.util.getUrlParam("variant");i&&(t.variant.variant_id=i,t.variant.changeVariantId())}t.buildFormData().validateOne(e),t.config.hideByNow&&t.config.cancelAjaxCart||t.controllerPaymentButton(!1)})),bestJq(document).on("change",".ymq-quantity-radio",(function(){t.needchange&&t.setQuantityByRadio().buildFormData(),t.needchange=!0})),t}validateOne(t){var e=this,i=t.data("name");return e.validate.validateOne(e.formData[i]),e}validateAll(t=!1){var e=this;return e.validate.validateAll(e.formData,t),e}registerBuyItNowEvent(){var t=this;return bestJq("body").on("click",`#${t.config.buy_id_now}`,(function(){if(t.validate.validateAll(t.formData,!0),0!=t.validate.validateCount)return!1;var e={};e.item_count=bestJq(`#${t.config.quantity_input}`).val(),e.items=[];var i={};i.variant_id=t.variant.variant_id,i.quantity=e.item_count,i.product_id=t.config.product.id,i.product_title=t.config.product.title,i.line_price=t.config.variantData[t.variant.variant_id].price*e.item_count,i.properties=t.getAjaxDataByFormData(!0),e.items.push(i),bestJq.ajax({type:"POST",url:"https://option.ymq.cool/api/checkout",data:{data:e,shop:t.config.shop,token:t.config.token,timestamp:t.config.timestamp,customer_id:t.config.customer_id},dataType:"json",success:function(t){window.location.href=t.data},error:function(t){}})})),t}getAjaxDataByFormData(t=!1){var e=this,i={};return e.ogFormData=new FormData,Object.keys(e.formData).forEach((function(n){if((0!=e.formData[n].value.length||e.formData[n].hasOwnProperty("isFile"))&&e.formData[n].addToCart){e.selectedValue=e.formData[n];var o=e.selectedValue.value.join(",");if(Number(0)>0&&(o+=` | ${e.config.doFormat(0,e.selectedValue.onetime)}`),t)i[n.substring(11,n.length-1)]=o;else if(e.formData[n].hasOwnProperty("isFile")){if(e.upload.fileData.hasOwnProperty(n)){var a=Object.keys(e.upload.fileData[n]).length;a>0&&Object.keys(e.upload.fileData[n]).forEach((function(t,i){e.ogFormData.set(1==a?n:e.reCreatName(n,i),e.upload.fileData[n][t].file,e.upload.fileData[n][t].name)}))}}else e.ogFormData.set(n,o),i[n]=o}})),i}reCreatName(t=null,e=0){return`properties[${t=t.substring(11,t.length-1)}_${e}]`}registerAddToCartEvent(){var t=this;return bestJq("body").on("click",`#${t.config.add_to_cart}`,(function(){if(t.validate.validateAll(t.formData,!0),0!=t.validate.validateCount)return!1;bestJq(this).addClass("ymq-btn-progress");var e=t.getAjaxDataByFormData();e.id=t.variant.variant_id,e.quantity=t.getQuantity(),bestJq.ajax({type:"POST",url:"/cart/add.js",data:e,dataType:"json",success:function(t){window.location.href="/cart"},error:function(t){bestJq(this).removeClass("ymq-btn-progress")}})})),t}getMultiple(t){return-1!=this.config.multipleTypeArray.indexOf(Number(t))}buildOtherFormData(){var t=this;if(0==Number(t.config.util.getValue(t.config.ymq_option_branding.extra,"other-form-data",0)))return t;try{bestJq("[name^='properties']").length>0&&bestJq("[name^='properties']").each((function(){if(!bestJq(this).prop("disabled")){var e="",i=bestJq(this).attr("name"),n=bestJq(this).get(0).tagName.toLowerCase(),o=bestJq(this).attr("ymq-other-validate");if(bestJq(this).attr("ymq-other-name"))var a=bestJq(this).attr("ymq-other-name");else a=i.match(/\[(.+?)\]/g)[0].replace("[","").replace("]","");if(!t.formData.hasOwnProperty(i)&&("select"==n?e="select":"textarea"==n?e="textarea":"input"==n&&(e=bestJq(this).attr("type")?bestJq(this).attr("type"):"text"),"hidden"!=e)){var s=[];if("select"==e){var r=bestJq(this).val();r instanceof Array?s=r:s.push(bestJq(this).val())}else["textarea","text","hidden"].includes(e)?""!=bestJq(this).val()&&s.push(bestJq(this).val()):["checkbox","radio"].includes(e)&&bestJq(`[name='${i}']:not(:disabled):checked`).each((function(){s.push(bestJq(this).val())}));s=s.filter((t=>""!=t)),t.formData[i]={onetime:0,price:0,validate:o,value:s,nameStr:a,name:i,otherValidate:!0},"file"==e&&(t.formData[i]={isFile:!0,onetime:0,price:0,validate:o,value:[],nameStr:a,name:i,otherValidate:!0})}}}))}catch(t){}return t}getOptionValueWithQty(t,e,i){if(i&&""!=t)try{var n=this.config.util.getOptionValueQty(e);return`${t}${this.config.qty_split}${n}`}catch(e){return t}return t}getOptionPriceWithQty(t,e,i){if(i)try{var n=this.config.util.getOptionValueQty(e);return Number(t*n)}catch(e){return Number(t)}return Number(t)}buildFormData(){var t=this;t.config.ymqHook("buildFormData_b"),t.formData={},t.config.form_box_dom.find(".ymq-options-box").each((function(){var e=bestJq(this).data("name"),i=Number(bestJq(this).data("type")),n=bestJq(this).data("class"),o=Number(bestJq(this).data("onetime")),a=bestJq(this).hasClass("ymq-options-qty-box"),s=1==Number(bestJq(this).data("ymq-add-to-cart"));window.best_option.ymq_option_branding.extra.plan<2&&(o=0);var r={},l=bestJq(this).find(`.${n}`),d=bestJq(this).find(`.${n}:disabled`),c=bestJq(this).data("validate");if(18==i||19==i){var p=t.getQuantityGradeByQtyInput();if(null!=p){var m=t.config.util.getValue(t.config.ymq_option_branding.lan,"qty-rang","qtyRange"),u=t.config.util.getValue(t.config.ymq_option_branding.lan,"qty-discount","discount"),y=t.config.util.getValue(t.config.ymq_option_branding.lan,"qty-discount-type","discountType"),f=t.config.util.getValue(t.config.ymq_option_branding.lan,"qty-discount-type-percentage","percentage"),q=t.config.util.getValue(t.config.ymq_option_branding.lan,"qty-discount-type-fixed","fixed"),h=t.config.util.getValue(t.config.ymq_option_branding.lan,"max-quantity","999999"),g=`${m}: ${p.quantity} - ${999999==Number(p.quantity_max?p.quantity_max:p.quantity)?h:Number(p.quantity_max?p.quantity_max:p.quantity)} | ${u}: ${p.discount} | ${y}: ${1==Number(p.discount_type)?f:q}`;r={onetime:0,price:0,validate:"",value:[g]}}else if(!(19!=i||isNaN(t.config.min_quantity)&&isNaN(t.config.max_quantity))){var b=1,_=t.config.max_num;isNaN(t.config.min_quantity)||(b=t.config.min_quantity),isNaN(t.config.max_quantity)||(_=t.config.max_quantity);m=t.config.util.getValue(t.config.ymq_option_branding.lan,"qty-rang","qtyRange");r={onetime:0,price:0,validate:"",value:[g=`${m}: ( ${b} - ${_} ) `]}}}else if(1==l.length){if(!l.prop("disabled"))if(r.onetime=o,7==i||3==i){r.value=[];var v=0;bestJq(this).find("option").each((function(){bestJq(this).prop("selected")&&""!=bestJq(this).val()&&!bestJq(this).prop("disabled")&&(r.value.push(t.getOptionValueWithQty(bestJq(this).val(),bestJq(this),a)),bestJq(this).data("price")&&(v-=-t.getOptionPriceWithQty(bestJq(this).data("price"),bestJq(this),a)))})),r.price=v,r.validate=c}else if(!0,"radio"==l.attr("type")||"checkbox"==l.attr("type")){r.value=[];v=0;l.prop("checked")&&(r.value.push(t.getOptionValueWithQty(l.val(),l,a)),l.data("price")&&(v-=-t.getOptionPriceWithQty(l.data("price"),l,a))),r.price=v,r.validate=c}else if("file"==l.prop("type")){if(r.value=[],""!=t.config.util.getValue(t.config.ymq_option_branding.extra,"upload-num-prompt","")){var w=0;t.upload.fileData.hasOwnProperty(e)&&(w=Object.keys(t.upload.fileData[e]).length),r.value.push(`(${w} / ${l.data("file-num")})`)}r.price=0,0!=r.value.length&&(r.price=l.data("price")?Number(l.data("price")):0),r.isFile=!0,r.name=e,r.validate=c}else r.value=""==l.val()?[]:[l.val()],r.price=0,0!=r.value.length&&(r.price=l.data("price")?Number(l.data("price")):0),r.validate=c}else if(l.length!=d.length){r.onetime=o,r.value=[];v=0;l.each((function(){bestJq(this).prop("disabled")||bestJq(this).prop("checked")&&(r.value.push(t.getOptionValueWithQty(bestJq(this).val(),bestJq(this),a)),bestJq(this).data("price")&&(v-=-t.getOptionPriceWithQty(bestJq(this).data("price"),bestJq(this),a)))})),r.price=v,r.validate=c}if(!bestJq.isEmptyObject(r)){r.dom=l.eq(0),r.hasQty=a,r.addToCart=s,t.selectedValue=r;var x=t.selectedValue.value.join(",");if(Number(0)>0&&(x+=` | ${t.config.doFormat(0,o,!0)}`),Number(0)>0){var $=t.config.util.getValue(t.config.ymq_option_branding.extra,"title-value","1,2,9,10");$=$.split(","),(bestJq.inArray(i,$)>=0||bestJq.inArray(i.toString(),$)>=0)&&bestJq(this).find(".ymq_option_price_span").html(t.config.doFormat(0,o,!0))}else bestJq(this).find(".ymq_option_price_span").html("");bestJq(this).find(".ymq_option_text_span").html(x),bestJq(this).hasClass("ymq-shopify-option-box")||(t.formData[e]=r)}})),t.ymq_total_price=0,t.ymq_total_price_single=0,t.ymq_option_price=0,t.ymq_option_price_single=0;var e=t.getQuantity();return Object.keys(t.formData).forEach((function(i){1==Number(t.formData[i].onetime)?(t.ymq_total_price=Number(t.ymq_total_price)+Number(t.formData[i].price),t.ymq_option_price_single=Number(t.ymq_option_price_single)+Number(t.formData[i].price)):(t.ymq_total_price=Number(t.ymq_total_price)+Number(t.formData[i].price)*e,t.ymq_option_price=Number(t.ymq_option_price)+Number(t.formData[i].price)),t.ymq_total_price_single=Number(t.ymq_total_price_single)+Number(t.formData[i].price)})),t.price(),t.buildQuantityDiscount(),t.config.ymqHook("buildFormData_a"),t}buildQuantityDiscount(){var t=this,e=t.config.variantData[t.variant.variant_id].price,i=t.config.util.getValue(t.config.ymq_option_branding.lan,"q-save","Save");return bestJq(".ymq-quantity-radio-box").each((function(){var n,o=0,a=2,s=1,r=0;if(bestJq(this).hasClass("ymq-quantity-show-box")){var l=t.getQuantityGradeByQtyInput();null!=l?(bestJq(this).show(),o=Number(l.discount),a=Number(l.discount_type),s=t.getQuantity(),bestJq(this).find(".ymq-quantity-buy-quantity").html(s),1==a?bestJq(this).find(".ymq-quantity-discount").html(`${i} ${o}%`):bestJq(this).find(".ymq-quantity-discount").html(`-${t.config.doFormat(o)}`)):bestJq(this).hide()}else o=Number(bestJq(this).find(".ymq-quantity-discount-price").data("discount")),a=Number(bestJq(this).find(".ymq-quantity-discount-price").data("discount_type")),s=Number(bestJq(this).find(".ymq-quantity-discount-price").data("quantity"));n=(Number(e)/100+Number(t.ymq_option_price))*s+Number(t.ymq_option_price_single),r=1==a?n*(1-o/100):n-o,bestJq(this).find(".ymq-quantity-discount-price").html(t.config.doFormat(r)),bestJq(this).find(".ymq-quantity-compared-price,.ymq-quantity-compared-price-no-discount").html(t.config.doFormat(n))})),t}price(){var t=this,e=t.config.util.getValue(t.config.ymq_option_branding.extra,"product-price-in-product-page",""),i=t.config.util.getValue(t.config.ymq_option_branding.extra,"product-compare-at-price-in-product-page","");if(""!=e&&bestJq(e).length>0||""!=i&&bestJq(i).length>0){if(t.config.variantData.hasOwnProperty(t.variant.variant_id)){var n=t.config.variantData[t.variant.variant_id],o=n.price,a=n.compare_at_price;console.log(o,e,bestJq(e).length),""!=e&&bestJq(e).length>0&&bestJq(e).html(t.config.doFormatWithoutRate((100*Number(t.ymq_total_price_single)*Shopify.currency.rate+Number(o))/100)),console.log(a,i,bestJq(i).length),""!=i&&bestJq(i).length>0&&a&&bestJq(i).html(t.config.doFormatWithoutRate((100*Number(t.ymq_total_price_single)*Shopify.currency.rate+Number(a))/100))}}else 0==Number(t.ymq_total_price)?bestJq("#ymq-price-addons").slideUp(300,"swing"):bestJq("#ymq-price-addons").slideDown(300,"swing"),bestJq("#ymq-addons-price").html(t.config.doFormat(t.ymq_total_price,0,!0));return t}reset(t,e,i,n,o){var a=this;a.config.form_box_dom.html(""),a.config.ymq_variantjson=t,a.config.ymq_option_data=e,a.config.ymq_option_condition=i,a.config.ymq_option_template=n,a.config.ymq_option_template_condition=o,a.config.hasQuantity=!1,a.variant.init(),a.init()}initConfig(){var t=this;if(t.config=Config.getInstance("productInstance",t),t.config.shop=window.best_option.shop,t.config.token=window.best_option.token,t.config.timestamp=window.best_option.timestamp,t.config.customer_id=window.best_option.customer_id,t.config.product=window.best_option.product,t.config.ymq_shopify_options=window.best_option.ymq_shopify_options,t.config.money_format=window.best_option.ymq_option_branding.lan.currency,t.config.form_box="",t.config.shopifySelectDom=[],bestJq('form[action="/cart/add"]').length>=1)t.config.form_box='form[action="/cart/add"]';else if(bestJq('form[action*="/cart/add"]').length>=1){var e=bestJq('form[action*="/cart/add"]').attr("action");t.config.form_box=`form[action="${e}"]`}t.config.util.getUrlParam("ymq_view")?(t.config.ymq_variantjson=window.best_option.ymq_variantjson_yulan,t.config.ymq_option_data=window.best_option.ymq_option_data_yulan,t.config.ymq_option_condition=window.best_option.ymq_option_condition_yulan,t.config.ymq_option_template=window.best_option.ymq_option_template_yulan,t.config.ymq_option_template_condition=window.best_option.ymq_option_template_condition_yulan):(t.config.ymq_variantjson=window.best_option.ymq_variantjson,t.config.ymq_option_data=window.best_option.ymq_option_data,t.config.ymq_option_condition=window.best_option.ymq_option_condition,t.config.ymq_option_template=window.best_option.ymq_option_template,t.config.ymq_option_template_condition=window.best_option.ymq_option_template_condition),t.config.ymq_option_settings=window.best_option.ymq_option_settings,t.config.ymq_option_branding=window.best_option.ymq_option_branding,t.config.ymq_has_only_default_variant=window.best_option.ymq_has_only_default_variant,t.config.variantData={},t.config.product.variants.forEach((function(e){t.config.variantData[e.id]=e})),t.config.variantOriginal=!1,1==t.config.util.getValue(t.config.ymq_option_branding.extra,"variant-original",0)&&(t.config.variantOriginal=!0),t.config.onetimetag=` ( ${t.config.util.getValue(t.config.ymq_option_branding.lan,"one-time-tag","one time")} )`,t.config.form_box_dom="";var i=t.config.util.getValue(t.config.ymq_option_branding.extra,"add-cart-form-number",0);t.config.form_class_name="",0==i&&window.best_option.isDawn?(t.config.form_box_dom=bestJq(".product__info-container"),t.config.form_class_name=".product__info-container",Number(i)==i&&0!=bestJq(".product__info-container").length||(t.config.form_class_name=i,t.config.form_box_dom=bestJq(i))):Number(i)==i?(t.config.form_box_dom=bestJq(t.config.form_box).eq(Number(i)),t.config.form_class_name=t.config.form_box):(t.config.form_box_dom=bestJq(i),t.config.form_class_name=i);var n=t.config.util.getValue(t.config.ymq_option_branding.extra,"variant-id-dom","");n&&bestJq(n).length>0?t.config.iddom=bestJq(n):t.config.iddom=t.config.form_box_dom.find("[name='id']")}static getInstance(){return this.instance||(this.instance=new t),this.instance}},Upload=class t{constructor(){var t=this;t.instance=null,t.config=Config.getInstance("uploadInstance",t),t.init()}init(){this.disabledFileInput().initMemberVariables().initModal().initOptions().registerEvent(),this.registerFileInputChangeEvent()}initMemberVariables(){var t=this;return t.cropper=null,t.files=null,t.num=0,t.fileData={},t.rectangleRatios=[],t.formData=new FormData,t.inputDom=null,t.previewReady=!1,t.imgDom=null,t}disabledFileInput(){return bestJq(document).on("click",".ymq_upload_new.ymq_disabled",(function(t){return t.stopImmediatePropagation(),t.preventDefault(),!1})),this}initOptions(){var t=this;return t.options={ready:function(){var e=this.cloneNode();e.className="",e.style.cssText="display: block;width: 100%;min-width: 0;min-height: 0;max-width: none;max-height: none;",bestJq(".ymq-img-review")[0].appendChild(e.cloneNode()),t.previewReady=!0},dragMode:"move",isRound:!1,crop:function(e){if(t.previewReady){var i=e.detail,n=this.cropper.getImageData(),o=i.width/i.height,a=bestJq(".ymq-img-review")[0];if(a){var s=a.getElementsByTagName("img").item(0),r=a.offsetWidth,l=r/o,d=i.width/r;a.style.height=l+"px",s&&(s.style.width=n.naturalWidth/d+"px",s.style.height=n.naturalHeight/d+"px",s.style.marginLeft=-i.x/d+"px",s.style.marginTop=-i.y/d+"px")}}}},t}resetAspectRatio(t){var e=this;return 2==(t=t.split(":")).length?(t=t[0]/t[1],e.options.aspectRatio=t):delete e.options.aspectRatio,e}registerEvent(){var t=this;return bestJq(document).on("click",".ymq-cropper-button-resize",(function(){t.destroyCropper().resetAspectRatio(bestJq(this).data("aspect-ratio")).newCropper()})),bestJq(document).on("click",".ymq-cropper-rotate-left",(function(){t.cropper.rotate(-30)})),bestJq(document).on("click",".ymq-cropper-rotate-right",(function(){t.cropper.rotate(30)})),t.modal.find("#ymq-do-cropper").on("click",(function(){if(t.cropper){t.getCanvas().toDataURL("image/jpeg",1);t.getCanvas().toBlob((function(e){t.addImg(e)}))}})),t}destroyCropper(){var t=this;return t.cropper.destroy(),t.cropper=null,t}newCropper(){var t=this;return t.cropper=new Cropper(t.imgDom[0],t.options),t.modal.resize(),t}initRectangleRatio(){var t=this;t.rectangleRatios=[],t.resetAspectRatio("");var e=t.inputDom.data("rectangle-ratio");e&&(e=e.split(",")).length>0&&(t.rectangleRatios=e,t.resetAspectRatio(t.rectangleRatios[0])),t.options.isRound=!1,bestJq(".ymq-img-container").removeClass("cropper-container-round"),2==t.inputDom.data("cropper")&&(t.resetAspectRatio("1:1"),bestJq(".ymq-img-container").addClass("cropper-container-round"));var i="";return t.rectangleRatios.forEach((function(t){i+=`<div class="ymq-cropper-button ymq-cropper-button-resize" data-aspect-ratio="${t}">${t}</div>`})),t.modal.find(".ymq-img-action_m").html(i),t.modal.find(".ymq-img-action_pc").html(i),t}getCanvas(){var t=this;if(2==t.inputDom.data("cropper")){var e=t.cropper.getCroppedCanvas(),i=document.createElement("canvas"),n=i.getContext("2d"),o=e.width,a=e.height;return i.width=o,i.height=a,n.imageSmoothingEnabled=!0,n.drawImage(e,0,0,o,a),n.globalCompositeOperation="destination-in",n.beginPath(),n.arc(o/2,a/2,Math.min(o,a)/2,0,2*Math.PI,!0),n.fill(),i}return t.cropper.getCroppedCanvas()}registerFileInputChangeEvent(){var t=this,e='input[type="file"]';return""!=t.config.form_class_name&&(e=`${t.config.form_class_name} input[type="file"]`),bestJq(document).on("change",e,(function(e){if(t.inputDom=bestJq(this),t.files=e.target.files,t.inputDom.val())if(bestJq(this).hasClass("ymq-options-file-input")){0!=t.inputDom.data("cropper")?t.initRectangleRatio().doCropper():t.addFile();var i="";i+='<div class="ymq-cropper-button ymq-cropper-rotate-left"><svg t="1625460890766" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6401" width="16" height="16"><path d="M950.930517 512q0 89.161143-34.889143 170.276571t-93.696 139.995429-139.995429 93.696-170.276571 34.889143q-98.304 0-186.88-41.398857t-150.820571-116.882286q-4.022857-5.705143-3.730286-12.873143t4.827429-11.702857l78.262857-78.848q5.705143-5.12 14.262857-5.12 9.142857 1.170286 13.165714 6.875429 41.691429 54.272 102.253714 83.968t128.585143 29.696q59.465143 0 113.444571-23.113143t93.403429-62.537143 62.537143-93.403429 23.113143-113.444571-23.113143-113.444571-62.537143-93.403429-93.403429-62.537143-113.444571-23.113143q-56.027429 0-107.446857 20.260571t-91.428571 58.002286l78.262857 78.848q17.700571 17.115429 7.972571 39.424-9.728 22.820571-33.718857 22.820571l-256 0q-14.848 0-25.746286-10.825143t-10.825143-25.746286l0-256q0-23.990857 22.820571-33.718857 22.308571-9.728 39.424 7.972571l74.313143 73.728q61.147429-57.709714 139.702857-89.453714t162.596571-31.744q89.161143 0 170.276571 34.889143t139.995429 93.696 93.696 139.995429 34.889143 170.276571z" p-id="6402" fill="#ffffff"></path></svg></div><div class="ymq-cropper-button ymq-cropper-rotate-right"><svg t="1625461123473" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6636" width="16" height="16"><path d="M950.857143 146.285714l0 256q0 14.857143-10.857143 25.714286t-25.714286 10.857143l-256 0q-24 0-33.714286-22.857143-9.714286-22.285714 8-39.428571l78.857143-78.857143q-84.571429-78.285714-199.428571-78.285714-59.428571 0-113.428571 23.142857t-93.428571 62.571429-62.571429 93.428571-23.142857 113.428571 23.142857 113.428571 62.571429 93.428571 93.428571 62.571429 113.428571 23.142857q68 0 128.571429-29.714286t102.285714-84q4-5.714286 13.142857-6.857143 8 0 14.285714 5.142857l78.285714 78.857143q5.142857 4.571429 5.428571 11.714286t-4.285714 12.857143q-62.285714 75.428571-150.857143 116.857143t-186.857143 41.428571q-89.142857 0-170.285714-34.857143t-140-93.714286-93.714286-140-34.857143-170.285714 34.857143-170.285714 93.714286-140 140-93.714286 170.285714-34.857143q84 0 162.571429 31.714286t139.714286 89.428571l74.285714-73.714286q16.571429-17.714286 40-8 22.285714 9.714286 22.285714 33.714286z" p-id="6637" fill="#ffffff"></path></svg></div>',t.modal.find(".ymq-img-action_m").append(i),t.modal.find(".ymq-img-action_pc").append(i)}else t.addOtherFile()})),t}doCropper(){var t,e,i=this;try{i.files&&i.files.length>0&&(t=i.files[0],/^image\/\w+/.test(t.type)?URL?i.done(URL.createObjectURL(t)):FileReader&&((e=new FileReader).onload=function(t){i.done(e.result)},e.readAsDataURL(t)):i.addFile())}catch(t){}}done(t){var e=this;e.inputDom.val(""),e.imgDom.prop("src",t),e.modal.modal("show")}isDisabled(){var t=this,e=t.inputDom.prop("name"),i=t.inputDom.data("file-num"),n=0;t.fileData.hasOwnProperty(e)&&(n=Object.keys(t.fileData[e]).length),n>=i?t.inputDom.parents(".ymq_upload_new").addClass("ymq_disabled"):t.inputDom.parents(".ymq_upload_new").removeClass("ymq_disabled")}addOtherFile(){var t=this,e=t.inputDom.prop("name");t.fileData.hasOwnProperty(e)||(t.fileData[e]={});var i=t.files.length;for(let n=0;n<i;n++)t.fileData[e][n]={file:t.files[n],name:t.files[n].name}}addFile(){var t=this,e="",i=t.inputDom.prop("name"),n=t.inputDom.parents(".ymq-options-box").find(".ymq_upload_img_view"),o=t.inputDom.parents(".ymq-options-box").find(".ymq_upload_file_view"),a=t.inputDom.data("file-num"),s=t.files.length,r="";t.fileData.hasOwnProperty(i)||(t.fileData[i]={}),(a-=Object.keys(t.fileData[i]).length)<=t.files.length&&(s=a);for(let a=0;a<s;a++)t.fileData[i][t.num]={file:t.files[a],name:t.files[a].name},/^image\/\w+/.test(t.files[a].type)?(URL&&(e=URL.createObjectURL(t.files[a])),r=`\n                        <div class="ymq_upload_img_item ymq_upload_file_item ymq_upload_file_item_${t.num}" style="display: none;" data-name="${i}" data-num="${t.num}">\n                            <img class="ymq_img_item" src="${e}" alt="">\n                            <div class="ymq_upload_img_item_bg">\n                                <span data-name="${i}" data-num="${t.num}" class="ymq_upload_img_item_del ymq_upload_file_item_del"></span>\n                                <div class="spotlight" data-src="${e}"></div>\n                            </div>\n                        </div>\n                    `,n.prepend(r),bestJq(`.ymq_upload_file_item_${t.num}`).fadeIn()):(r=`\n                        <div class="ymq_upload_item ymq_upload_file_view ymq_upload_file_item ymq_upload_file_item_${t.num}">\n                            <div class="ymq_upload_type ymq_upload_img"></div>\n                            <div class="ymq_upload_name">${t.files[a].name}</div>\n                            <div data-name="${i}" data-num="${t.num}" class="ymq_upload_status ymq_upload_success ymq_upload_file_item_del"></div>\n                            <div class="ymq_clear_both"></div>\n                        </div>\n                    `,o.append(r),bestJq(`.ymq_upload_file_item_${t.num}`).fadeIn()),t.num++;t.inputDom.val("").change(),t.isDisabled()}addImg(t){var e=this,i=URL.createObjectURL(t),n=e.inputDom.parents(".ymq-options-box").find(".ymq_upload_img_view"),o=e.inputDom.prop("name"),a=`\n                <div class="ymq_upload_img_item ymq_upload_file_item ymq_upload_file_item_${e.num}" style="display: none;" data-name="${o}" data-num="${e.num}">\n                    <img class="ymq_img_item" src="${i}" alt="">\n                    <div class="ymq_upload_img_item_bg">\n                        <span data-name="${o}" data-num="${e.num}" class="ymq_upload_img_item_del ymq_upload_file_item_del"></span>\n                        <div class="spotlight" data-src="${i}"></div>\n                    </div>\n                </div>\n            `;e.fileData.hasOwnProperty(o)||(e.fileData[o]={}),e.fileData[o][e.num]={file:t,name:`${o}_${e.num}.jpg`},e.formData.append(o,t,`${o}.jpg`),n.prepend(a),bestJq(`.ymq_upload_file_item_${e.num}`).fadeIn(),e.modal.modal("hide"),e.num++,e.inputDom.val("").change(),e.isDisabled()}initModal(){var t=this;return bestJq("body").append('\n                <div class="ymq-bmodal ymq-modal-fade" id="ymqBootModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">\n                    <div class="ymq-modal-dialog ymq-modal-lg" role="document">\n                      <div class="ymq-bmodal-content">\n                        <div class="ymq-modal-header">\n                          <div class="ymq-modal-close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></div>\n                        </div>\n                        <div class="ymq-modal-body">\n                          <div class="ymq-img-container">\n                            <div class="ymq-img-cropper-container">\n                              <img id="ymq-upload-cropper-img" src="">\n                            </div>\n                            <div class="ymq-img-review-container">\n                              <div class="ymq-img-review">\n                              </div>\n                              <div class="ymq-img-action ymq-img-action_m ymq_m_show">\n                                \n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                        <div class="ymq-modal-footer">\n                          <div class="ymq-cropper-button ymq-cropper-button-close" data-dismiss="modal">Close</div>\n                          <div class="ymq-img-action ymq-img-action_pc ymq_pc_show">\n                            \n                          </div>\n                          <div class="ymq-cropper-button" id="ymq-do-cropper">Save</div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n            '),t.imgDom=bestJq("#ymq-upload-cropper-img"),t.modal=bestJq("#ymqBootModal"),t.modal.on("shown.bs.modal",(function(){t.newCropper()})).on("hidden.bs.modal",(function(){t.destroyCropper(),bestJq(".ymq-img-review").html("")})),t}static getInstance(){return this.instance||(this.instance=new t),this.instance}},Util=class t{constructor(t){this.instance=null,this.init()}init(){this.dateFormat().initSpotlight()}jstrigger(t,e){if(document.all)t.fireEvent("on"+e);else{var i=document.createEvent("Events");i.initEvent(e,!0,!0),t.dispatchEvent(i)}}getOptionValueQty(t){try{var e=t.data("id");return this.getIntValue(bestJq(`.ymq-qty-input-${e}`).val())}catch(t){return 1}return 1}getIntValue(t){try{return Number(t)&&Number(t)>0?parseInt(t):1}catch(t){return 1}return 1}getParenthesesStr(t){var e="";if(""==t)return e;var i=t.match(/\((.+?)\)/g);if(""!=i){let t=i[0];""!=t&&(e=t.substring(1,t.length-1))}return e}getShopifySmallImg(t,e=200,i=200){return-1!=t.indexOf("shopify")?-1!=(t=(t=t.replace(/ /g,"")).replace(/ /g,"")).indexOf("?")?t+"&width="+e+"&height="+i:t+"?width="+e+"&height="+i:t}formatCurrency(t){t=t.toString().replace(/\$|\,/g,""),isNaN(t)&&(t="0");var e=t==(t=Math.abs(t)),i=(t=Math.floor(100*t+.50000000001))%100;t=Math.floor(t/100).toString(),i<10&&(i="0"+i);for(var n=0;n<Math.floor((t.length-(1+n))/3);n++)t=t.substring(0,t.length-(4*n+3))+","+t.substring(t.length-(4*n+3));return(e?"":"-")+t+"."+i}changeUriByVariantId(t){var e=this.makeJsonByGet(),i=document.URL,n=i.indexOf("?"),o=i.substring(0,n),a=[];e.variant=t,Object.keys(e).forEach((function(t){""!==e[t]&&a.push(`${t}=${e[t]}`)})),history.replaceState(null,null,`${o}${a.length>0?"?":""}${a.join("&")}`)}htmlSpecialChars(t){return"string"==typeof(t=this.reHtmlSpecialChars(t))&&(t=(t=(t=(t=(t=t.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/"/g,"&quot;")).replace(/'/g,"&#39;")),t}reHtmlSpecialChars(t){return"string"==typeof t&&(t=(t=(t=(t=(t=t.replace(/&amp;/g,"&")).replace(/&lt;/g,"<")).replace(/&gt;/g,">")).replace(/&quot;/g,'"')).replace(/&#39;/g,"'")),t}variantIsSelect(t,e){return t==e||this.htmlSpecialChars(t)==e}makeJsonByGet(){for(var t=this,e={},i={},n=window.location.href,o=(n=n.replace(/.*\?/,"")).split("&"),a=0;a<o.length;a++)e[o[a].split("=")[0]]="";return Object.keys(e).forEach((function(e){var n=t.getUrlParam(e);n&&(i[e]=n)})),i}getUrlParam(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),i=window.location.search.substr(1).match(e);return null!=i?decodeURI(i[2]):null}getValue(t,e,i){return t.hasOwnProperty(e)?t[e]:i}dateFormat(){return Date.prototype.Format=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var i in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),e)new RegExp("("+i+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[i]:("00"+e[i]).substr((""+e[i]).length)));return t},this}initSpotlight(){var t,e,i=!1;bestJq("#spotlight .drag").mousedown((function(n){t=n.pageX,e=n.pageY,i=!1})),bestJq("#spotlight .drag").mouseup((function(n){(Math.abs(Number(t)-Number(n.pageX))>7||Math.abs(Number(e)-Number(n.pageY))>7)&&(i=!0)})),bestJq(document).on("click","#spotlight .drag",(function(){i||(bestJq(".preloader").removeClass("show"),bestJq("#spotlight .icon.close").click())})),bestJq(document).on("#spotlight .icon.close",(function(){bestJq(".preloader").removeClass("show")}))}static getInstance(){return this.instance||(this.instance=new t),this.instance}},Validate=class t{constructor(){var t=this;t.instance=null,t.dom=null,t.config=Config.getInstance("validateInstance",t),t.upload=Upload.getInstance(),t.init()}initMemberVariables(){var t=this;t.selectDom=null,t.selectValueArray=[],t.selectValue="",t.domErrorArray=[],t.validateCount=0,t.validateOtherCount=0,t.validateArray=[],t.validateValue=[],t.form=bestJq(t.config.form_box)}init(){this.initMemberVariables()}doOtherValidate(){var t=this;t.domErrorArray=[],t.validateArray.forEach((function(e){"required"==e&&(t.json.hasOwnProperty("isFile")?t.upload.fileData.hasOwnProperty(t.json.name)?bestJq.isEmptyObject(t.upload.fileData[t.json.name])&&t.domErrorArray.push(t.config.ymq_option_branding.lan.require):t.domErrorArray.push(t.config.ymq_option_branding.lan.require):""==t.selectValue&&t.domErrorArray.push(t.config.ymq_option_branding.lan.require)),""!=t.selectValue&&(e.search("minchar:")>-1&&t.selectValue.length<e.split(":")[1]&&t.domErrorArray.push(t.config.ymq_option_branding.lan.min_char.replace("%s",e.split(":")[1])),e.search("maxchar:")>-1&&t.selectValue.length>e.split(":")[1]&&t.domErrorArray.push(t.config.ymq_option_branding.lan.max_char.replace("%s",e.split(":")[1])),e.search("min:")>-1&&Number(t.selectValue)<Number(e.split(":")[1])&&t.domErrorArray.push(t.config.ymq_option_branding.lan.min.replace("%s",e.split(":")[1])),e.search("max:")>-1&&Number(t.selectValue)>Number(e.split(":")[1])&&t.domErrorArray.push(t.config.ymq_option_branding.lan.max.replace("%s",e.split(":")[1])),"email"!=e||t.config.emailRe.test(t.selectValue)||t.domErrorArray.push(t.config.ymq_option_branding.lan.email),"integer"==e&&t.selectValue%1!=0&&t.domErrorArray.push(t.config.ymq_option_branding.lan.integer),"number"!=e||t.config.numberRe.test(t.selectValue)||t.domErrorArray.push(t.config.ymq_option_branding.lan.number),e.search("float:")>-1&&t.selectValue%1!=0&&t.selectValue.toString().split(".")[1].length>e.split(":")[1]&&t.domErrorArray.push(`${e.split(":")[1]}小数`))}))}doValidate(){var t=this,e=t.selectDom.parents(".ymq-options-box");t.domErrorArray=[];var i=0,n=99999,o=t.selectValueArray.length;if(t.json.hasOwnProperty("hasQty")&&t.json.hasQty){var a=0;t.selectValueArray.forEach((function(e){var i=e.split(t.config.qty_split);2==i.length?a+=1*i[1]:a+=1})),o=a}t.validateArray.forEach((function(t){t.search("min_s:")>-1&&(i=Number(t.split(":")[1])),t.search("max_s:")>-1&&(n=Number(t.split(":")[1]))})),0==i&&0==n||(i==n?(o>n-1?bestJq(`#${e.prop("id")} input:checkbox:not([data-title]):not(:checked)`).prop("disabled",!0):bestJq(`#${e.prop("id")} input:checkbox:not([data-title]):not(:checked)`).prop("disabled",!1),o!=i&&(t.config.ymq_option_branding.lan.hasOwnProperty("total_s")?t.domErrorArray.push(t.config.ymq_option_branding.lan.total_s.replace("%s",i)):t.domErrorArray.push("You need to choose "+i+"."))):(o<i&&(t.config.ymq_option_branding.lan.hasOwnProperty("min_s")?t.domErrorArray.push(t.config.ymq_option_branding.lan.min_s.replace("%s",i)):t.domErrorArray.push("You need to choose more than "+i+".")),o>n&&(t.config.ymq_option_branding.lan.hasOwnProperty("max_s")?t.domErrorArray.push(t.config.ymq_option_branding.lan.max_s.replace("%s",n)):t.domErrorArray.push("You need to choose less than "+n+".")),o>n-1?bestJq(`#${e.prop("id")} input:checkbox:not([data-title]):not(:checked)`).prop("disabled",!0):bestJq(`#${e.prop("id")} input:checkbox:not([data-title]):not(:checked)`).prop("disabled",!1))),t.validateArray.forEach((function(e){"required"==e&&(t.json.hasOwnProperty("isFile")?t.upload.fileData.hasOwnProperty(t.json.name)?bestJq.isEmptyObject(t.upload.fileData[t.json.name])&&t.domErrorArray.push(t.config.ymq_option_branding.lan.require):t.domErrorArray.push(t.config.ymq_option_branding.lan.require):""==t.selectValue&&t.domErrorArray.push(t.config.ymq_option_branding.lan.require)),""!=t.selectValue&&(e.search("minchar:")>-1&&t.selectValue.length<e.split(":")[1]&&t.domErrorArray.push(t.config.ymq_option_branding.lan.min_char.replace("%s",e.split(":")[1])),e.search("maxchar:")>-1&&t.selectValue.length>e.split(":")[1]&&t.domErrorArray.push(t.config.ymq_option_branding.lan.max_char.replace("%s",e.split(":")[1])),e.search("min:")>-1&&Number(t.selectValue)<Number(e.split(":")[1])&&t.domErrorArray.push(t.config.ymq_option_branding.lan.min.replace("%s",e.split(":")[1])),e.search("max:")>-1&&Number(t.selectValue)>Number(e.split(":")[1])&&t.domErrorArray.push(t.config.ymq_option_branding.lan.max.replace("%s",e.split(":")[1])),"email"!=e||t.config.emailRe.test(t.selectValue)||t.domErrorArray.push(t.config.ymq_option_branding.lan.email),"integer"==e&&t.selectValue%1!=0&&t.domErrorArray.push(t.config.ymq_option_branding.lan.integer),"number"!=e||t.config.numberRe.test(t.selectValue)||t.domErrorArray.push(t.config.ymq_option_branding.lan.number),e.search("float:")>-1&&t.selectValue%1!=0&&t.selectValue.toString().split(".")[1].length>e.split(":")[1]&&t.domErrorArray.push(`${e.split(":")[1]}小数`))}))}validateOne(t,e=!1){var i=this;if(i.json=t,t&&t.validate)if(i.validateArray=t.validate.split("|"),i.selectDom=t.dom,i.selectValueArray=t.value,i.selectValue=t.value.join(","),t.hasOwnProperty("otherValidate")&&t.hasOwnProperty("nameStr"))i.doOtherValidate(),0==i.validateOtherCount&&i.domErrorArray.length&&(alert(`${t.nameStr} ${i.domErrorArray[0]}`),i.validateOtherCount++,i.validateCount++);else{i.doValidate();var n="";if(i.domErrorArray.length){i.domErrorArray.forEach((function(t){n+=`\n                                <div class="ymq-error-item">${t}</div>\n                            `}));var o=t.dom.parents(".ymq-options-box");if(0==i.validateCount&&e){if(o.offset().top+o.outerHeight()<bestJq(window).scrollTop()){var a=o.offset().top-200;bestJq("html, body").animate({scrollTop:a},500)}t.dom.focus()}i.validateCount++,t.dom.parents(".ymq-options-box").find("textarea,select,input[type='text']").addClass("ymq_error_border"),t.dom.parents(".ymq-options-box").find(".selectDropdown").find("span").addClass("ymq_error_border")}else t.dom.parents(".ymq-options-box").find("textarea,select,input[type='text']").removeClass("ymq_error_border"),t.dom.parents(".ymq-options-box").find(".selectDropdown").find("span").removeClass("ymq_error_border");t.dom.parents(".ymq-options-box").find(".ymq-error-box").html(n)}}validateAll(t,e=!1){var i=this;i.validateCount=0,i.validateOtherCount=0,Object.keys(t).forEach((function(n){i.validateOne(t[n],e)}))}validateOneWithOutPrompt(t){var e=this;return e.json=t,!!(t&&t.validate&&(e.validateArray=t.validate.split("|"),e.selectDom=t.dom,e.selectValueArray=t.value,e.selectValue=t.value.join(","),e.doValidate(),e.domErrorArray.length))}validateAllWithOutPrompt(t){var e=this,i=!1;try{Object.keys(t).forEach((function(n){if(e.validateOneWithOutPrompt(t[n]))throw i=!0,new Error("breakForEach")}))}catch(t){if("breakForEach"!=t.message)throw t}return i}require(){}testValidate(t){t?this.success():this.error()}success(){}error(){this.dom.addClass("ymq_error")}static getInstance(){return this.instance||(this.instance=new t),this.instance}},Variant=class t{constructor(){var t=this;t.instance=null,t.htmlBuilder=Html.getInstance(),t.config=Config.getInstance("variantInstance",t),t.addVariantIdInput().init()}initMemberVariables(){var t=this;t.variantJson={},t.variant_id=0,t.allVariantJson={},t.notAvailableVariantJson={},t.ymq_shopify_options_with_index_key={}}init(){this.initMemberVariables(),this.initVariantId().initNotAvailableVariantJson().initVariantJson()}initNotAvailableVariantJson(){var t=this;return t.config.product.variants.forEach((function(e){e.available||(t.notAvailableVariantJson[e.id]=e.options),t.allVariantJson[e.id]=e.options})),t}isSoldOut(){var t=this;if(1==Number(t.config.util.getValue(t.config.ymq_option_branding.extra,"variant-not-disabled",0)))return t;var e=[],i=[];return bestJq(".ymq-shopify-option-box").each((function(t){"3"==bestJq(this).data("type").toString()?(i.push(1),"multiple"==bestJq(this).find("select").attr("multiple")?e.push(bestJq(this).find("select").val().join(",").toString()):e.push(bestJq(this).find("select").val().toString()),bestJq(this).find("option").prop("disabled",!1)):(i.push(0),e.push(bestJq(this).find("input:checked").val().toString()),bestJq(this).find("input").prop("disabled",!1))})),e.forEach((function(n,o){var a=n,s=!1;t.ymq_shopify_options_with_index_key[o]&&t.ymq_shopify_options_with_index_key[o].forEach((function(n,r){n=t.config.util.reHtmlSpecialChars(n);var l=Object.assign([],e);if(n!=a&&(l[o]=n,Object.keys(t.notAvailableVariantJson).forEach((function(e){JSON.stringify(l)==JSON.stringify(t.notAvailableVariantJson[e])&&(1==i[o]?(bestJq(`#ymq-attrib-ymq-variant-${o}`).find("option").eq(r).prop("disabled",!0),bestJq(`#option-box-ymq-variant-${o} .ymq-multiple-ul li`).eq(r).data("title",t.config.ymq_option_branding.lan.sold_out)):bestJq(`#ymq-attrib-ymq-variant-${o}-0`).parents(".ymq-shopify-option-box").find("input").eq(r).prop("disabled",!0).next().data("title",t.config.ymq_option_branding.lan.sold_out),s=!0)})),0==s)){var d=!1;try{Object.keys(t.allVariantJson).forEach((function(e){if(JSON.stringify(l)==JSON.stringify(t.allVariantJson[e]))throw d=!0,new Error("breakForEach")}))}catch(t){if("breakForEach"!=t.message)throw t}0==d&&(1==i[o]?(bestJq(`#ymq-attrib-ymq-variant-${o}`).find("option").eq(r).prop("disabled",!0),bestJq(`#option-box-ymq-variant-${o} .ymq-multiple-ul li`).eq(r).data("title",t.config.ymq_option_branding.lan.sold_out)):bestJq(`#ymq-attrib-ymq-variant-${o}-0`).parents(".ymq-shopify-option-box").find("input").eq(r).prop("disabled",!0).next().data("title",t.config.ymq_option_branding.lan.sold_out))}}))})),bestJq(".ymq-shopify-option-box select").each((function(e){t.htmlBuilder.initDropdown(bestJq(`#ymq-attrib-ymq-variant-${e}`))})),t}initTypeVariantJson(t,e,i=null,n,o=null){var a=this,s={};return s.help=i?i.help:"",s.id=`ymq-variant-${e}`,s.label=t,s.options={},s.isShopify=!0,s.optionsIndex=e,s.required="",s.type=n,null!=o&&(s.style=o),s.tooltip=i?i.tooltip:"",s.tooltip_position=i?i.tooltip_position:"",s.alert_text=i&&i.hasOwnProperty("alert_text")?i.alert_text:"",s.hide_title=i&&i.hasOwnProperty("hide_title")?i.hide_title:0,s.class=i&&i.hasOwnProperty("class")?i.class:"",s.a_t1=i&&i.hasOwnProperty("a_t1")?i.a_t1:"",s.a_t2=i&&i.hasOwnProperty("a_t2")?i.a_t2:"",s.a_width=i&&i.hasOwnProperty("a_width")?i.a_width:"",a.config.ymq_shopify_options[t].forEach((function(t,i){s.options[`${s.id}-${i}`]={id:`${s.id}-${i}`,one_time:0,price:0,price_type:"1",sku:"",value:t},window.bestAdmin?0==Number(i)?s.options[`${s.id}-${i}`].default=1:s.options[`${s.id}-${i}`].default="":a.config.util.variantIsSelect(a.config.variantData[a.variant_id].options[e],t)?s.options[`${s.id}-${i}`].default=1:s.options[`${s.id}-${i}`].default=""})),s}initDrodownVariantJson(t,e,i=null){return this.initTypeVariantJson(t,e,i,"3")}initRadioVariantJson(t,e,i=null){return this.initTypeVariantJson(t,e,i,"4",1)}initButtonVariantJson(t,e,i=null){return this.initTypeVariantJson(t,e,i,"15",2)}initCanvasVariantJson(t,e,i){var n=this,o={};return o.help=i.help,o.id=`ymq-variant-${e}`,o.label=t,o.options={},o.isShopify=!0,o.optionsIndex=e,o.style=1,o.required="",o.tooltip=i.tooltip,o.tooltip_position=i.tooltip_position,o.style=i.style,o.width=i.width,o.height=i.height,o.b_radius=i.b_radius,o.zoom=i.zoom,o.type="5",o.alert_text=i.hasOwnProperty("alert_text")?i.alert_text:"",o.a_t1=i.hasOwnProperty("a_t1")?i.a_t1:"",o.a_t2=i.hasOwnProperty("a_t2")?i.a_t2:"",o.a_width=i.hasOwnProperty("a_width")?i.a_width:"",n.config.ymq_shopify_options[t].forEach((function(t,a){o.options[`${o.id}-${a}`]={id:`${o.id}-${a}`,one_time:0,price:0,price_type:"1",sku:"",canvas1:i.values[a].canvas1,canvas2:i.values[a].canvas2,canvas_type:i.values[a].canvas_type,value:t},n.config.util.variantIsSelect(n.config.variantData[n.variant_id].options[e],t)?o.options[`${o.id}-${a}`].default=1:o.options[`${o.id}-${a}`].default=""})),o}initVariantJson(){var t=this;return console.log(t.config.ymq_variantjson,11111),t.config.ymq_has_only_default_variant||Object.keys(t.config.ymq_shopify_options).forEach((function(e,i){t.ymq_shopify_options_with_index_key[i]=t.config.ymq_shopify_options[e];var n="",o={};if(t.config.ymq_variantjson.hasOwnProperty(i)){var a=t.config.ymq_variantjson[i];n=a.type.toString()}else n=t.config.util.getValue(t.config.ymq_option_branding.extra,"init-variant-type",1).toString();switch(n){default:o=t.initDrodownVariantJson(e,i,a);break;case"2":o=t.initRadioVariantJson(e,i,a);break;case"3":o=t.initButtonVariantJson(e,i,a);break;case"4":o=t.initCanvasVariantJson(e,i,a)}t.variantJson[o.id]=o})),t}buildVariantHtml(){var t=this;return t.config.ymq_has_only_default_variant||t.htmlBuilder.setJson(t.variantJson).buildtHtml(),t}initVariantId(){var t=this;if(t.variant_id=Number(t.config.util.getUrlParam("variant")),t.variant_id&&t.config.variantData.hasOwnProperty(t.variant_id)||(t.variant_id=Number(t.config.product.variants[0].id)),t.changeVariantId(),!t.config.variantData[t.variant_id].available)try{Object.keys(t.config.variantData).forEach((function(e){if(t.config.variantData[e].available)throw t.variant_id=Number(e),t.changeVariantId(),t.config.util.changeUriByVariantId(t.variant_id),new Error("LoopTerminates")}))}catch(t){if("LoopTerminates"!==t.message)throw t}return t}changeUriByVariantId(){var t=this,e=[],i={},n=[];t.config.hideByNow&&bestJq(".shopify-payment-button").hide().remove(),bestJq(".ymq-shopify-option-box").each((function(){var t=bestJq(this).find(".ymq_lable").text();"3"==bestJq(this).data("type").toString()?bestJq(this).find(".ymq-shopify-option").each((function(){e.push(bestJq(this).val().toString()),i[t]=bestJq(this).val().toString(),n.push(bestJq(this).val().toString())})):bestJq(this).find(".ymq-shopify-option:checked").each((function(){e.push(bestJq(this).val().toString()),i[t]=bestJq(this).val().toString(),n.push(bestJq(this).val().toString())}))}));var o=t.config.util.getValue(t.config.ymq_option_branding.extra,"trigger-select",""),a=t.config.util.getValue(t.config.ymq_option_branding.extra,"trigger-select-join","");return""!=o&&(bestJq(o).val(n.join(a)).trigger("change"),t.config.util.jstrigger(bestJq(o).get(0),"change")),Object.keys(i).forEach((function(e,n){var o=i[e];if(t.config.shopifySelectDom[e]&&"select"==t.config.shopifySelectDom[e].type){t.config.shopifySelectDom[e].jq.find("option").each((function(){bestJq(this).val()==o?bestJq(this).prop("selected",!0).trigger("click"):bestJq(this).prop("selected",!1)})),t.config.shopifySelectDom[e].jq.val(o).trigger("change");var a=document.getElementById(t.config.shopifySelectDom[e].id);t.config.util.jstrigger(a,"change")}t.config.shopifySelectDom[e]&&"radio"==t.config.shopifySelectDom[e].type&&t.config.shopifySelectDom[e].jq.each((function(i){if(bestJq(this).val()==o){bestJq(this).prop("checked",!0).trigger("click");var n=document.getElementsByName(t.config.shopifySelectDom[e].name)[i];t.config.shopifySelectDom[e].jq.trigger("change"),t.config.util.jstrigger(n,"change")}else bestJq(this).prop("checked",!1)}))})),t.config.product.variants.forEach((function(i){JSON.stringify(i.options)==JSON.stringify(e)&&(t.variant_id=Number(i.id),t.changeVariantId())})),t.config.util.changeUriByVariantId(t.variant_id),t}addVariantIdInput(){var t=this;if(!bestJq(`#${t.config.ymq_variant_id}`).length){var e=`\n                    <input id="${t.config.ymq_variant_id}" type="hidden" value="">\n                `;t.config.form_box_dom.append(e)}return t}changeVariantId(){var t=this;t.config.iddom.val(t.variant_id),bestJq(`#${t.config.ymq_variant_id}`).val(t.variant_id)}static getInstance(){return this.instance||(this.instance=new t),this.instance}};return{Product:Product}}));